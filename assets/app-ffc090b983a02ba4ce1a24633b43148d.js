function g(t){throw t}function aa(){return function(){}}function p(t){return function(){return this[t]}}function ba(t){return function(){return t}}function ca(t,e){var n=t.split("."),i=s;!(n[0]in i)&&i.execScript&&i.execScript("var "+n[0]);for(var r;n.length&&(r=n.shift());)!n.length&&da(e)?i[r]=e:i=i[r]?i[r]:i[r]={}}function ea(){}function fa(t){t.nb=function(){return t.rd?t.rd:t.rd=new t}}function ga(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e}function da(t){return t!==i}function ha(t){return"array"==ga(t)}function ia(t){var e=ga(t);return"array"==e||"object"==e&&"number"==typeof t.length}function t(t){return"string"==typeof t}function u(t){return"function"==ga(t)}function ja(t){var e=typeof t;return"object"==e&&t!=m||"function"==e}function ka(t){return t[la]||(t[la]=++ma)}function na(t){return t.call.apply(t.bind,arguments)}function oa(t,e){if(t||g(Error()),2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,n),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function pa(){return pa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?na:oa,pa.apply(m,arguments)}function qa(t){var e=Array.prototype.slice.call(arguments,1);return function(){var n=Array.prototype.slice.call(arguments);return n.unshift.apply(n,e),t.apply(this,n)}}function v(t,e){function n(){}n.prototype=e.prototype,t.G=e.prototype,t.prototype=new n,t.prototype.constructor=t}function sa(t){return t.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function ta(t){return ua.test(t)?(-1!=t.indexOf("&")&&(t=t.replace(va,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(wa,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(xa,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(ya,"&quot;")),t):t}function za(t){return String(t).replace(/\-([a-z])/g,function(t,e){return e.toUpperCase()})}function Ea(e,n){var r;t:{r=e.length;for(var o=t(e)?e.split(""):e,a=0;r>a;a++)if(a in o&&n.call(i,o[a],a,e)){r=a;break t}r=-1}return 0>r?m:t(e)?e.charAt(r):e[r]}function Fa(t,e){return 0<=Aa(t,e)}function C(t,e){var n=Aa(t,e);n>=0&&z.splice.call(t,n,1)}function Ga(t){var e=t.length;if(e>0){for(var n=Array(e),i=0;e>i;i++)n[i]=t[i];return n}return[]}function Ha(t){for(var e=1;e<arguments.length;e++){var n,i=arguments[e];if(ha(i)||(n=ia(i))&&i.hasOwnProperty("callee"))t.push.apply(t,i);else if(n)for(var r=t.length,o=i.length,a=0;o>a;a++)t[r+a]=i[a];else t.push(i)}}function Ia(t,e,n){return 2>=arguments.length?z.slice.call(t,e):z.slice.call(t,e,n)}function Ja(t,e){return t>e?1:e>t?-1:0}function Pa(){return s.navigator?s.navigator.userAgent:m}function Qa(){return s.navigator}function H(t){var e;if(!(e=cb[t])){e=0;for(var n=sa(String(Wa)).split("."),i=sa(String(t)).split("."),r=Math.max(n.length,i.length),o=0;0==e&&r>o;o++){var a=n[o]||"",s=i[o]||"",c=RegExp("(\\d*)(\\D*)","g"),h=RegExp("(\\d*)(\\D*)","g");do{var u=c.exec(a)||["","",""],f=h.exec(s)||["","",""];if(0==u[0].length&&0==f[0].length)break;e=((0==u[1].length?0:parseInt(u[1],10))<(0==f[1].length?0:parseInt(f[1],10))?-1:(0==u[1].length?0:parseInt(u[1],10))>(0==f[1].length?0:parseInt(f[1],10))?1:0)||((0==u[2].length)<(0==f[2].length)?-1:(0==u[2].length)>(0==f[2].length)?1:0)||(u[2]<f[2]?-1:u[2]>f[2]?1:0)}while(0==e)}e=cb[t]=e>=0}return e}function eb(t){return db[t]||(db[t]=D&&!!document.documentMode&&document.documentMode>=t)}function ib(e){return e=e.className,t(e)&&e.match(/\S+/g)||[]}function jb(t){var e=ib(t),n=Ia(arguments,1),i=e.length+n.length;return kb(e,n),t.className=e.join(" "),e.length==i}function lb(t){var e=ib(t),n=Ia(arguments,1),i=mb(e,n);return t.className=i.join(" "),i.length==e.length-n.length}function kb(t,e){for(var n=0;n<e.length;n++)Fa(t,e[n])||t.push(e[n])}function mb(t,e){return Ba(t,function(t){return!Fa(e,t)})}function nb(e,n,i){var r=ib(e);t(n)?C(r,n):ha(n)&&(r=mb(r,n)),t(i)&&!Fa(r,i)?r.push(i):ha(i)&&kb(r,i),e.className=r.join(" ")}function I(t,e){this.x=da(t)?t:0,this.y=da(e)?e:0}function ob(t,e){this.width=t,this.height=e}function pb(t,e){for(var n in t)e.call(i,t[n],n,t)}function rb(t){for(var e,n,i=1;i<arguments.length;i++){n=arguments[i];for(e in n)t[e]=n[e];for(var r=0;r<qb.length;r++)e=qb[r],Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}}function sb(t){return t?new tb(J(t)):fb||(fb=new tb)}function ub(t,e){pb(e,function(e,n){"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:n in vb?t.setAttribute(vb[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}function wb(){var e=arguments,n=document,i=e[0],r=e[1];if(!gb&&r&&(r.name||r.type)){if(i=["<",i],r.name&&i.push(' name="',ta(r.name),'"'),r.type){i.push(' type="',ta(r.type),'"');var o={};rb(o,r),delete o.type,r=o}i.push(">"),i=i.join("")}return i=n.createElement(i),r&&(t(r)?i.className=r:ha(r)?jb.apply(m,[i].concat(r)):ub(i,r)),2<e.length&&xb(n,i,e,2),i}function xb(e,i,r,o){function a(n){n&&i.appendChild(t(n)?e.createTextNode(n):n)}for(;o<r.length;o++){var s=r[o];if(!ia(s)||ja(s)&&0<s.nodeType)a(s);else{var c;t:{if(s&&"number"==typeof s.length){if(ja(s)){c="function"==typeof s.item||"string"==typeof s.item;break t}if(u(s)){c="function"==typeof s.item;break t}}c=n}B(c?Ga(s):s,a)}}}function yb(t){for(var e;e=t.firstChild;)t.removeChild(e)}function zb(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Ab(t){return ja(t)&&1==t.nodeType}function Bb(t,e){if(t.contains&&1==e.nodeType)return t==e||t.contains(e);if("undefined"!=typeof t.compareDocumentPosition)return t==e||Boolean(16&t.compareDocumentPosition(e));for(;e&&t!=e;)e=e.parentNode;return e==t}function J(t){return 9==t.nodeType?t:t.ownerDocument||t.document}function Cb(t){var e=t.getAttributeNode("tabindex");return e&&e.specified?(t=t.tabIndex,"number"==typeof t&&t>=0&&32768>t):n}function tb(t){this.I=t||s.document||document}function Db(t){var e=t.I,t=G?e.body:e.documentElement,e=e.parentWindow||e.defaultView;return new I(e.pageXOffset||t.scrollLeft,e.pageYOffset||t.scrollTop)}function Fb(t,e){var n=e||[];return t&&n.push(t),n}function Jb(t){function e(){if(u>=0&&(g.id=n(u,p).replace(/\\/g,""),u=-1),f>=0){var t=f==p?m:n(f,p);0>">~+".indexOf(t)?g.D=t:g.Lb=t,f=-1}h>=0&&(g.U.push(n(h+1,p).replace(/\\/g,"")),h=-1)}function n(e,n){return sa(t.slice(e,n))}for(var i,t=0<=">~+".indexOf(t.slice(-1))?t+" * ":t+" ",r=[],o=-1,a=-1,s=-1,c=-1,h=-1,u=-1,f=-1,l="",d="",p=0,b=t.length,g=m,y=m;l=d,d=t.charAt(p),b>p;p++)"\\"!=l&&(g||(i=p,g={Qa:m,ta:[],xb:[],U:[],D:m,Lb:m,id:m,mc:function(){return Ib?this.Zd:this.D}},f=p),o>=0?"]"==d?(y.ic?y.tc=n(s||o+1,p):y.ic=n(o+1,p),!(o=y.tc)||'"'!=o.charAt(0)&&"'"!=o.charAt(0)||(y.tc=o.slice(1,-1)),g.xb.push(y),y=m,o=s=-1):"="==d&&(s=0<="|~^$*".indexOf(l)?l:"",y.type=s+d,y.ic=n(o+1,p-s.length),s=p+1):a>=0?")"==d&&(c>=0&&(y.value=n(a+1,p)),c=a=-1):"#"==d?(e(),u=p+1):"."==d?(e(),h=p):":"==d?(e(),c=p):"["==d?(e(),o=p,y={}):"("==d?(c>=0&&(y={name:n(c+1,p),value:m},g.ta.push(y)),a=p):" "==d&&l!=d&&(e(),c>=0&&g.ta.push({name:n(c+1,p)}),g.vd=g.ta.length||g.xb.length||g.U.length,g.qe=g.Qa=n(i,p),g.Zd=g.D=g.Lb?m:g.D||"*",g.D&&(g.D=g.D.toUpperCase()),r.length&&r[r.length-1].Lb&&(g.pd=r.pop(),g.Qa=g.pd.Qa+" "+g.Qa),r.push(g),g=m));return r}function Kb(t,e){return t?e?function(){return t.apply(window,arguments)&&e.apply(window,arguments)}:t:e}function Lb(t){return 1==t.nodeType}function Mb(t,e){return t?"class"==e?t.className||"":"for"==e?t.htmlFor||"":"style"==e?t.style.cssText||"":(Ib?t.getAttribute(e):t.getAttribute(e,2))||"":""}function Sb(t){for(;t=t[Qb];)if(Rb(t))return n;return j}function Tb(t){for(;t=t[Pb];)if(Rb(t))return n;return j}function Ub(t){var e=t.parentNode,n=0,i=e[Hb],r=t._i||-1,o=e._l||-1;if(!i)return-1;if(i=i.length,o==i&&r>=0&&o>=0)return r;for(e._l=i,r=-1,e=e.firstElementChild||e.firstChild;e;e=e[Pb])Rb(e)&&(e._i=++n,t===e&&(r=n));return r}function Vb(t){return!(Ub(t)%2)}function Wb(t){return Ub(t)%2}function Xb(t,e){if(!t)return Eb;var e=e||{},n=m;return e.A||(n=Kb(n,Lb)),e.D||"*"!=t.D&&(n=Kb(n,function(e){return e&&e.tagName==t.mc()})),e.U||B(t.U,function(t,e){var i=RegExp("(?:^|\\s)"+t+"(?:\\s|$)");n=Kb(n,function(t){return i.test(t.className)}),n.count=e}),e.ta||B(t.ta,function(t){var e=t.name;Yb[e]&&(n=Kb(n,Yb[e](e,t.value)))}),e.xb||B(t.xb,function(t){var e,i=t.ic;t.type&&Nb[t.type]?e=Nb[t.type](i,t.tc):i.length&&(e=Zb(i)),e&&(n=Kb(n,e))}),e.id||t.id&&(n=Kb(n,function(e){return!!e&&e.id==t.id})),n||"default"in e||(n=Eb),n}function ac(t){var e=$b[t.Qa];if(e)return e;var n=t.pd,n=n?n.Lb:"",i=Xb(t,{A:1}),r="*"==t.D,o=document.getElementsByClassName;if(n){if(o={A:1},r&&(o.D=1),i=Xb(t,o),"+"==n)var a=i,e=function(t,e,n){for(;t=t[Pb];)if(!Ob||Lb(t)){(!n||bc(t,n))&&a(t)&&e.push(t);break}return e};else if("~"==n)var s=i,e=function(t,e,n){for(t=t[Pb];t;){if(Rb(t)){if(n&&!bc(t,n))break;s(t)&&e.push(t)}t=t[Pb]}return e};else if(">"==n)var c=i,c=c||Eb,e=function(t,e,n){for(var i=0,r=t[Hb];t=r[i++];)Rb(t)&&(!n||bc(t,n))&&c(t,i)&&e.push(t);return e}}else if(t.id)i=!t.vd&&r?Eb:Xb(t,{A:1,id:1}),e=function(e,n){var r,o=sb(e).c(t.id);if((r=o&&i(o))&&!(r=9==e.nodeType)){for(r=o.parentNode;r&&r!=e;)r=r.parentNode;r=!!r}return r?Fb(o,n):void 0};else if(o&&/\{\s*\[native code\]\s*\}/.test(String(o))&&t.U.length&&!Gb)var i=Xb(t,{A:1,U:1,id:1}),h=t.U.join(" "),e=function(t,e){for(var n,r=Fb(0,e),o=0,a=t.getElementsByClassName(h);n=a[o++];)i(n,t)&&r.push(n);return r};else r||t.vd?(i=Xb(t,{A:1,D:1,id:1}),e=function(e,n){for(var r,o=Fb(0,n),a=0,s=e.getElementsByTagName(t.mc());r=s[a++];)i(r,e)&&o.push(r);return o}):e=function(e,n){for(var i,r=Fb(0,n),o=0,a=e.getElementsByTagName(t.mc());i=a[o++];)r.push(i);return r};return $b[t.Qa]=e}function ec(t){var e=Jb(sa(t));if(1==e.length){var n=ac(e[0]);return function(t){return(t=n(t,[]))&&(t.Kb=j),t}}return function(t){for(var n,i,r,o,t=Fb(t),a=e.length,s=0;a>s;s++){o=[],n=e[s],i=t.length-1,i>0&&(r={},o.Kb=j),i=ac(n);for(var c=0;n=t[c];c++)i(n,o,r);if(!o.length)break;t=o}return o}}function gc(t,e){if(fc){var n=dc[t];if(n&&!e)return n}if(n=cc[t])return n;var n=t.charAt(0),i=-1==t.indexOf(" ");if(0<=t.indexOf("#")&&i&&(e=j),!(!fc||e||-1!=">~+".indexOf(n)||D&&-1!=t.indexOf(":")||Gb&&0<=t.indexOf(".")||-1!=t.indexOf(":contains")||-1!=t.indexOf("|="))){var r=0<=">~+".indexOf(t.charAt(t.length-1))?t+" *":t;return dc[t]=function(e){try{9==e.nodeType||i||g("");var n=e.querySelectorAll(r);return D?n.Kd=j:n.Kb=j,n}catch(o){return gc(t,j)(e)}}}var o=t.split(/\s*,\s*/);return cc[t]=2>o.length?ec(t):function(t){for(var e,n=0,i=[];e=o[n++];)i=i.concat(ec(e)(t));return i}}function bc(t,e){if(!e)return 1;var n=ic(t);return e[n]?0:e[n]=1}function jc(t){if(t&&t.Kb)return t;var e=[];if(!t||!t.length)return e;if(t[0]&&e.push(t[0]),2>t.length)return e;if(hc++,D&&Ib){var n=hc+"";t[0].setAttribute("_zipIdx",n);for(var i,r=1;i=t[r];r++)t[r].getAttribute("_zipIdx")!=n&&e.push(i),i.setAttribute("_zipIdx",n)}else if(D&&t.Kd)try{for(r=1;i=t[r];r++)Lb(i)&&e.push(i)}catch(o){}else for(t[0]&&(t[0]._zipIdx=hc),r=1;i=t[r];r++)t[r]._zipIdx!=hc&&e.push(i),i._zipIdx=hc;return e}function K(e,n){if(!e)return[];if(e.constructor==Array)return e;if(!t(e))return[e];if(t(n)&&(n=t(n)?document.getElementById(n):n,!n))return[];var n=n||document,i=n.ownerDocument||n.documentElement;return Ib=n.contentType&&"application/xml"==n.contentType||Ta&&(n.doctype||"[object XMLDocument]"==i.toString())||!!i&&(D?i.xml:n.xmlVersion||i.xmlVersion),(i=gc(e)(n))&&i.Kb?i:jc(i)}function nc(){0!=oc&&(this.ke=Error().stack,ka(this))}function pc(t,e){this.type=t,this.currentTarget=this.target=e}function qc(t){t.preventDefault()}function rc(t){return rc[" "](t),t}function sc(t,e){t&&this.init(t,e)}function uc(t){return(kc?0==t.n.button:"click"==t.type?j:!!(t.n.button&tc[0]))&&!(G&&Oa&&t.ctrlKey)}function vc(){}function N(t,e,n,i,r){if(e){if(ha(e)){for(var o=0;o<e.length;o++)N(t,e[o],n,i,r);return m}var i=!!i,a=M;e in a||(a[e]={m:0,K:0}),a=a[e],i in a||(a[i]={m:0,K:0},a.m++);var c,a=a[i],h=ka(t);if(a.K++,a[h]){for(c=a[h],o=0;o<c.length;o++)if(a=c[o],a.Pa==n&&a.La==r){if(a.ua)break;return c[o].key}}else c=a[h]=[],a.m++;var u=Ac,f=lc?function(t){return u.call(f.src,f.key,t)}:function(t){return t=u.call(f.src,f.key,t),t?void 0:t},o=f;return o.src=t,a=new vc,a.init(n,o,t,e,i,r),n=a.key,o.key=n,c.push(a),xc[n]=a,yc[h]||(yc[h]=[]),yc[h].push(a),t.addEventListener?(t==s||!t.Wc)&&t.addEventListener(e,o,i):t.attachEvent(e in zc?zc[e]:zc[e]="on"+e,o),n}g(Error("Invalid event type"))}function Bc(t,e,n,i,r){if(ha(e))for(var o=0;o<e.length;o++)Bc(t,e[o],n,i,r);else if(i=!!i,t=Cc(t,e,i))for(o=0;o<t.length;o++)if(t[o].Pa==n&&t[o].capture==i&&t[o].La==r){O(t[o].key);break}}function O(t){if(!xc[t])return n;var e=xc[t];if(e.ua)return n;var i=e.src,r=e.type,o=e.zd,a=e.capture;return i.removeEventListener?(i==s||!i.Wc)&&i.removeEventListener(r,o,a):i.detachEvent&&i.detachEvent(r in zc?zc[r]:zc[r]="on"+r,o),i=ka(i),yc[i]&&(o=yc[i],C(o,e),0==o.length&&delete yc[i]),e.ua=j,(e=M[r][a][i])&&(e.xd=j,Dc(r,a,i,e)),delete xc[t],j}function Dc(t,e,i,r){if(!r.Gb&&r.xd){for(var o=0,a=0;o<r.length;o++)r[o].ua?r[o].zd.src=m:(o!=a&&(r[a]=r[o]),a++);r.length=a,r.xd=n,0==a&&(delete M[t][e][i],M[t][e].m--,0==M[t][e].m&&(delete M[t][e],M[t].m--),0==M[t].m&&delete M[t])}}function Cc(t,e,n){var i=M;return e in i&&(i=i[e],n in i&&(i=i[n],t=ka(t),i[t]))?i[t]:m}function Ec(t,e,i,r,o){var a=1,e=ka(e);if(t[e]){t.K--,t=t[e],t.Gb?t.Gb++:t.Gb=1;try{for(var s=t.length,c=0;s>c;c++){var h=t[c];h&&!h.ua&&(a&=Fc(h,o)!==n)}}finally{t.Gb--,Dc(i,r,e,t)}}return Boolean(a)}function Fc(t,e){return t.Uc&&O(t.key),t.handleEvent(e)}function Ac(t,e){if(!xc[t])return j;var r=xc[t],o=r.type,a=M;if(!(o in a))return j;var c,h,a=a[o];if(!lc){var u;if(!(u=e))t:{u=["window","event"];for(var f=s;c=u.shift();){if(f[c]==m){u=m;break t}f=f[c]}u=f}if(c=u,u=j in a,f=n in a,u){if(0>c.keyCode||c.returnValue!=i)return j;t:{var l=n;if(0==c.keyCode)try{c.keyCode=-1;break t}catch(d){l=j}(l||c.returnValue==i)&&(c.returnValue=j)}}l=new sc,l.init(c,this),c=j;try{if(u){for(var p=[],b=l.currentTarget;b;b=b.parentNode)p.push(b);h=a[j],h.K=h.m;for(var g=p.length-1;!l.sa&&g>=0&&h.K;g--)l.currentTarget=p[g],c&=Ec(h,p[g],o,j,l);if(f)for(h=a[n],h.K=h.m,g=0;!l.sa&&g<p.length&&h.K;g++)l.currentTarget=p[g],c&=Ec(h,p[g],o,n,l)}else c=Fc(r,l)}finally{p&&(p.length=0)}return c}return o=new sc(e,this),c=Fc(r,o)}function Gc(t){nc.call(this),this.md=t,this.h=[]}function P(t,e,i,r,o){ha(i)||(Hc[0]=i,i=Hc);for(var a=0;a<i.length;a++){var s=N(e,i[a],r||t,o||n,t.md||t);t.h.push(s)}return t}function Ic(t,e,n,i,r,o){if(ha(n))for(var a=0;a<n.length;a++)Ic(t,e,n[a],i,r,o);else{t:{if(i=i||t,o=o||t.md||t,r=!!r,e=Cc(e,n,r))for(n=0;n<e.length;n++)if(!e[n].ua&&e[n].Pa==i&&e[n].capture==r&&e[n].La==o){e=e[n];break t}e=m}e&&(e=e.key,O(e),C(t.h,e))}return t}function Jc(){nc.call(this)}function Kc(t,e,n,i){this.top=t,this.right=e,this.bottom=n,this.left=i}function Lc(t,e,n,i){this.left=t,this.top=e,this.width=n,this.height=i}function R(e,n,i){t(n)?Mc(e,i,n):pb(n,qa(Mc,e))}function Mc(t,e,n){t.style[za(n)]=e}function S(t,e){var n=J(t);return n.defaultView&&n.defaultView.getComputedStyle&&(n=n.defaultView.getComputedStyle(t,m))?n[e]||n.getPropertyValue(e)||"":""}function Nc(t,e){return t.currentStyle?t.currentStyle[e]:m}function Oc(t,e){return S(t,e)||Nc(t,e)||t.style&&t.style[e]}function Pc(t,e,n){var i,r=F&&(Oa||Va)&&H("1.9");e instanceof I?(i=e.x,e=e.y):(i=e,e=n),t.style.left=Qc(i,r),t.style.top=Qc(e,r)}function Rc(t){var e=t.getBoundingClientRect();return D&&(t=t.ownerDocument,e.left-=t.documentElement.clientLeft+t.body.clientLeft,e.top-=t.documentElement.clientTop+t.body.clientTop),e}function Sc(t){if(D&&!eb(8))return t.offsetParent;for(var e=J(t),n=Oc(t,"position"),i="fixed"==n||"absolute"==n,t=t.parentNode;t&&t!=e;t=t.parentNode)if(n=Oc(t,"position"),i=i&&"static"==n&&t!=e.documentElement&&t!=e.body,!i&&(t.scrollWidth>t.clientWidth||t.scrollHeight>t.clientHeight||"fixed"==n||"absolute"==n||"relative"==n))return t;return m}function Tc(t){var e,i,r=J(t),o=Oc(t,"position"),a=F&&r.getBoxObjectFor&&!t.getBoundingClientRect&&"absolute"==o&&(e=r.getBoxObjectFor(t))&&(0>e.screenX||0>e.screenY),s=new I(0,0);if(e=r?J(r):document,(i=D)&&(i=!eb(9))&&(sb(e),i=n),i=i?e.body:e.documentElement,t==i)return s;if(t.getBoundingClientRect)e=Rc(t),t=Db(sb(r)),s.x=e.left+t.x,s.y=e.top+t.y;else if(r.getBoxObjectFor&&!a)e=r.getBoxObjectFor(t),t=r.getBoxObjectFor(i),s.x=e.screenX-t.screenX,s.y=e.screenY-t.screenY;else{a=t;do{if(s.x+=a.offsetLeft,s.y+=a.offsetTop,a!=t&&(s.x+=a.clientLeft||0,s.y+=a.clientTop||0),G&&"fixed"==Oc(a,"position")){s.x+=r.body.scrollLeft,s.y+=r.body.scrollTop;break}a=a.offsetParent}while(a&&a!=t);for((Ta||G&&"absolute"==o)&&(s.y-=r.body.offsetTop),a=t;(a=Sc(a))&&a!=r.body&&a!=i;)s.x-=a.scrollLeft,Ta&&"TR"==a.tagName||(s.y-=a.scrollTop)}return s}function Uc(t,e){var n=Vc(t),i=Vc(e);return new I(n.x-i.x,n.y-i.y)}function Vc(t){var e=new I;if(1==t.nodeType){if(t.getBoundingClientRect){var n=Rc(t);e.x=n.left,e.y=n.top}else{var n=Db(sb(t)),i=Tc(t);e.x=i.x-n.x,e.y=i.y-n.y}if(F&&!H(12)){var r;D?r="-ms-transform":G?r="-webkit-transform":Ta?r="-o-transform":F&&(r="-moz-transform");var o;r&&(o=Oc(t,r)),o||(o=Oc(t,"transform")),o?(t=o.match(Wc),t=t?new I(parseFloat(t[1]),parseFloat(t[2])):new I(0,0)):t=new I(0,0),e=new I(e.x+t.x,e.y+t.y)}}else r=u(t.Ld),o=t,t.targetTouches?o=t.targetTouches[0]:r&&t.n.targetTouches&&(o=t.n.targetTouches[0]),e.x=o.clientX,e.y=o.clientY;return e}function Xc(t,e,n){e instanceof ob?(n=e.height,e=e.width):n==i&&g(Error("missing height argument")),t.style.width=Qc(e,j),t.style.height=Qc(n,j)}function Qc(t,e){return"number"==typeof t&&(t=(e?Math.round(t):t)+"px"),t}function Yc(t){if("none"!=Oc(t,"display"))return Zc(t);var e=t.style,n=e.display,i=e.visibility,r=e.position;return e.visibility="hidden",e.position="absolute",e.display="inline",t=Zc(t),e.display=n,e.position=r,e.visibility=i,t}function Zc(t){var e=t.offsetWidth,n=t.offsetHeight,i=G&&!e&&!n;return da(e)&&!i||!t.getBoundingClientRect?new ob(e,n):(t=Rc(t),new ob(t.right-t.left,t.bottom-t.top))}function $c(t){var e=Tc(t),t=Yc(t);return new Lc(e.x,e.y,t.width,t.height)}function T(t,e){var n=t.style;"opacity"in n?n.opacity=e:"MozOpacity"in n?n.MozOpacity=e:"filter"in n&&(n.filter=""===e?"":"alpha(opacity="+100*e+")")}function U(t,e){t.style.display=e?"":"none"}function ad(t){return"rtl"==Oc(t,"direction")}function cd(t,e){if(/^\d+px?$/.test(e))return parseInt(e,10);var n=t.style.left,i=t.runtimeStyle.left;t.runtimeStyle.left=t.currentStyle.left,t.style.left=e;var r=t.style.pixelLeft;return t.style.left=n,t.runtimeStyle.left=i,r}function dd(t,e){if(D){var n=cd(t,Nc(t,e+"Left")),i=cd(t,Nc(t,e+"Right")),r=cd(t,Nc(t,e+"Top")),o=cd(t,Nc(t,e+"Bottom"));return new Kc(r,i,o,n)}return n=S(t,e+"Left"),i=S(t,e+"Right"),r=S(t,e+"Top"),o=S(t,e+"Bottom"),new Kc(parseFloat(r),parseFloat(i),parseFloat(o),parseFloat(n))}function fd(t,e){if("none"==Nc(t,e+"Style"))return 0;var n=Nc(t,e+"Width");return n in ed?ed[n]:cd(t,n)}function gd(t){if(D){var e=fd(t,"borderLeft"),n=fd(t,"borderRight"),i=fd(t,"borderTop"),t=fd(t,"borderBottom");return new Kc(i,n,t,e)}return e=S(t,"borderLeftWidth"),n=S(t,"borderRightWidth"),i=S(t,"borderTopWidth"),t=S(t,"borderBottomWidth"),new Kc(parseFloat(i),parseFloat(n),parseFloat(t),parseFloat(e))}function hd(t,e,i){nc.call(this),this.target=t,this.handle=e||t,this.rc=i||new Lc(0/0,0/0,0/0,0/0),this.I=J(t),this.ea=new Gc(this),N(this.handle,["touchstart","mousedown"],this.de,n,this)}function jd(t){return da(t.ja)||(t.ja=ad(t.target)),t.ja}function kd(t){var e=t.type;"touchstart"==e||"touchmove"==e?t.init(t.n.targetTouches[0],t.currentTarget):("touchend"==e||"touchcancel"==e)&&t.init(t.n.changedTouches[0],t.currentTarget)}function od(t,e,n){var i=Db(sb(t.I)),e=e+(i.x-t.vc.x),n=n+(i.y-t.vc.y);return t.vc=i,t.Ga+=e,t.Ha+=n,e=md(t,t.Ga),t=nd(t,t.Ha),new I(e,t)}function pd(t,e,n,i){t.Yc(n,i),t.dispatchEvent(new ld("drag",t,e.clientX,e.clientY,e,n,i))}function md(t,e){var n=t.rc,i=isNaN(n.left)?m:n.left,n=isNaN(n.width)?0:n.width;return Math.min(i!=m?i+n:1/0,Math.max(i!=m?i:-1/0,e))}function nd(t,e){var n=t.rc,i=isNaN(n.top)?m:n.top,n=isNaN(n.height)?0:n.height;return Math.min(i!=m?i+n:1/0,Math.max(i!=m?i:-1/0,e))}function ld(t,e,n,i,r,o,a,s){pc.call(this,t),this.clientX=n,this.clientY=i,this.ie=r,this.left=da(o)?o:e.Ga,this.top=da(a)?a:e.Ha,this.me=e,this.le=!!s}function qd(t){for(var e=0,n=0;t&&!isNaN(t.offsetLeft)&&!isNaN(t.offsetTop);)e+=t.offsetLeft-t.scrollLeft,n+=t.offsetTop-t.scrollTop,t=t.offsetParent;return{top:n,left:e}}function rd(){this.Wa=[]}function sd(t){this.R={},this.h=[];var e=arguments.length;if(e>1){e%2&&g(Error("Uneven number of arguments"));for(var n=0;e>n;n+=2)this.set(arguments[n],arguments[n+1])}else if(t){var i;if(t instanceof sd)td(t),i=t.h.concat(),n=V(t);else{var e=[],r=0;for(i in t)e[r++]=i;i=e,e=[],r=0;for(n in t)e[r++]=t[n];n=e}for(e=0;e<i.length;e++)this.set(i[e],n[e])}}function V(t){td(t);for(var e=[],n=0;n<t.h.length;n++)e.push(t.R[t.h[n]]);return e}function td(t){if(t.m!=t.h.length){for(var e=0,n=0;e<t.h.length;){var i=t.h[e];ud(t.R,i)&&(t.h[n++]=i),e++}t.h.length=n}if(t.m!=t.h.length){for(var r={},n=e=0;e<t.h.length;)i=t.h[e],ud(r,i)||(t.h[n++]=i,r[i]=1),e++;t.h.length=n}}function ud(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function vd(t,e){this.x=t,this.y=e}function wd(t){this.points=t}function xd(t){for(var e=0,n=t.length-1,i=0;i<t.length;i++)e+=(t[n].x+t[i].x)*(t[n].y-t[i].y),n=i;return e/2}function yd(t,e){for(var n,i,r=n=0,o=t.length-1,a=0;a<t.length;a++)i=t[a].x*t[o].y-t[o].x*t[a].y,n+=(t[a].x+t[o].x)*i,r+=(t[a].y+t[o].y)*i,o=a;for(i=6*xd(t),n=new vd(Math.abs(n/i),Math.abs(r/i)),r=[],i=0;i<t.length;i++){var o=t[i],s=(0>xd(t)?-1:1)*e,a=o.x-n.x,c=o.y-n.y,h=s>0?1:0>s?-1:0,s=Math.sqrt(Math.pow(s,2)/(1+Math.pow(a/c,2)));r.push({x:o.x+Math.abs(a/c*s)*(a>0?1:0>a?-1:0)*h,y:o.y+Math.abs(s)*(c>0?1:0>c?-1:0)*h})}return r}function zd(t,e,n,i){n>0?(this.x=t,this.width=n):(this.x=t+n,this.width=-n),i>0?(this.y=e,this.height=i):(this.y=e+i,this.height=-i)}function Ad(t,e,n,i){this.type=t,this.geometry=e,n&&(this.units=n),i&&(this.style=i)}function Bd(t){return"rect"==t.type?t.geometry.width*t.geometry.height:"polygon"==t.type?Math.abs(xd(t.geometry.points)):0}function Cd(t){if("rect"==t.type)return t;if("polygon"==t.type){for(var e=t.geometry.points,i=e[0].x,r=e[0].x,o=e[0].y,a=e[0].y,s=1;s<e.length;s++)e[s].x>r&&(r=e[s].x),e[s].x<i&&(i=e[s].x),e[s].y>a&&(a=e[s].y),e[s].y<o&&(o=e[s].y);return new Ad("rect",new zd(i,o,r-i,a-o),n,t.style)}}function Dd(t,e){var i;i=t.geometry.points;var r=0>xd(i)?-1:1;if(4>i.length)i=yd(i,r*e);else{for(var o=i.length-1,a=1,s=[],c=0;c<i.length;c++)o=yd([i[o],i[c],i[a]],r*e),s.push(o[1]),o=c,a++,a>i.length-1&&(a=0);i=s}return new Ad("polygon",new wd(i),n,t.style)}function Ed(t,e){if("rect"==t.type){var i=t.geometry,r=e({x:i.x,y:i.y}),i=e({x:i.x+i.width,y:i.y+i.height});return new Ad("rect",new zd(r.x,r.y,i.x-r.x,i.y-r.y),n,t.style)}if("polygon"==t.type){var o=[];return B(t.geometry.points,function(t){o.push(e(t))}),new Ad("polygon",new wd(o),n,t.style)}}function Fd(t){return JSON.stringify(t.geometry)}function Gd(t,e,n){this.src=t,this.text=e,this.shapes=[n],this.context=document.URL}function Hd(){}function Id(t,e){t.g=new sd,t.Jc=[],t.$a=[],t.Ba=[],t.xa=[],t.Ub=[],t.rb={Na:n,Ma:n},t.ya=new sd,t.Wb=i,t.Rc=e}function Jd(t,e){var i=t.ya.get(e);return i||(i={Na:n,Ma:n},t.ya.set(e,i)),i}function Kd(t,e){var n=t.lc(e);if(!t.g.get(n)){var i=t.yd(e),r=[],o=[];B(t.Jc,function(t){i.l(t.type,t.La)}),B(t.$a,function(t){t.onInitAnnotator&&t.onInitAnnotator(i)}),B(t.xa,function(t){t.src==n&&(i.z(t),r.push(t))}),B(t.Ub,function(t){t.src==n&&(i.w(t),o.push(t))}),B(r,function(e){C(t.xa,e)}),B(o,function(e){C(t.Ub,e)});var a=t.ya.get(n);a?(a.Na&&i.O(),a.Ma&&i.W(),t.ya.remove(n)):(t.rb.Na&&i.O(),t.rb.Ma&&i.W()),t.Wb&&i.Y(t.Wb),t.g.set(n,i),C(t.Ba,e)}}function Ld(t){var e,n;for(n=t.Ba.length;n>0;n--){for(var i=e=t.Ba[n-1],r=i.offsetTop,o=i.offsetLeft,a=i.offsetWidth,s=i.offsetHeight;i.offsetParent;)i=i.offsetParent,r+=i.offsetTop,o+=i.offsetLeft;r<window.pageYOffset+window.innerHeight&&o<window.pageXOffset+window.innerWidth&&r+s>window.pageYOffset&&o+a>window.pageXOffset&&Kd(t,e)}}function Md(t,e,n){if(e){var i=t.g.get(e);i?n?i.va():i.W():Jd(t,e).Ma=n}else B(V(t.g),function(t){n?t.va():t.W()}),t.rb.Ma=!n,B(V(t.ya),function(t){t.Ma=!n})}function Nd(t,e,n){if(e){var i=t.g.get(e);i?n?i.Z():i.O():Jd(t,e).Na=n}else B(V(t.g),function(t){n?t.Z():t.O()}),t.rb.Na=!n,B(V(t.ya),function(t){t.Na=!n})}function Od(t,e){return ud(t.g.R,e)?j:Ea(t.Ba,function(n){return t.lc(n)==e})!=m}function Pd(t,e){var n=sb().createElement("DIV");if(n.innerHTML=t(e||Qd,i,i),1==n.childNodes.length){var r=n.firstChild;if(1==r.nodeType)return r}return n}function Rd(t){t!=m&&this.append.apply(this,arguments)}function Sd(){}function he(){}function ie(t,e,i){this.$=t,this.M=[],this.ga=n,this.Fd=e,this.Jb=i}function ge(t,e){t.ga||t.$.append(e)}function ke(t,e,i,r,o){if(!(D||G&&H("525")))return j;if(Oa&&o)return le(t);if(o&&!r||!i&&(17==e||18==e)||D&&r&&e==t)return n;switch(t){case 13:return!(D&&eb(9));case 27:return!G}return le(t)}function le(t){if(t>=48&&57>=t||t>=96&&106>=t||t>=65&&90>=t||G&&0==t)return j;switch(t){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return j;default:return n}}function me(t){switch(t){case 61:return 187;case 59:return 186;case 224:return 91;case 0:return 224;default:return t}}function ne(t,e){nc.call(this),t&&oe(this,t,e)}function oe(t,e,n){t.Fb&&t.detach(),t.B=e,t.Eb=N(t.B,"keypress",t,n),t.pc=N(t.B,"keydown",t.Nd,n,t),t.Fb=N(t.B,"keyup",t.Pd,n,t)}function te(t,e,n,r){r&&this.init(r,i),this.type="key",this.keyCode=t,this.charCode=e,this.repeat=n}function ue(){}function ve(t){nc.call(this),this.hb=t||sb(),this.ja=we}function xe(t,e){switch(t){case 1:return e?"disable":"enable";case 2:return e?"highlight":"unhighlight";case 4:return e?"activate":"deactivate";case 8:return e?"select":"unselect";case 16:return e?"check":"uncheck";case 32:return e?"focus":"blur";case 64:return e?"open":"close"}g(Error("Invalid component state"))}function ye(){}function Ae(t,e){var n=[];return e&&(t=t.concat([e])),B([],function(i){Da(i,qa(Fa,t))&&(!e||Fa(i,e))&&n.push(i.join("_"))}),n}function Be(t){var e=t.mb();t.yb={1:e+"-disabled",2:e+"-hover",4:e+"-active",8:e+"-selected",16:e+"-checked",32:e+"-focused",64:e+"-open"}}function W(t,e,n){if(ve.call(this,n),!e){for(var i,e=this.constructor;e&&(i=ka(e),!(i=Ce[i]));)e=e.G?e.G.constructor:m;e=i?u(i.nb)?i.nb():new i:m}this.C=e,this.fb=t}function De(t){t.X&&n!=t.oc&&Ee(t,n),t.oc=n}function Ee(t,e){var n=t.Bb(),i=t.c();e?(P(P(P(P(n,i,"mouseover",t.kd),i,"mousedown",t.hd),i,"mouseup",t.ld),i,"mouseout",t.jd),t.Cb!=ea&&P(n,i,"contextmenu",t.Cb),D&&P(n,i,"dblclick",t.gd)):(Ic(Ic(Ic(Ic(n,i,"mouseover",t.kd),i,"mousedown",t.hd),i,"mouseup",t.ld),i,"mouseout",t.jd),t.Cb!=ea&&Ic(n,i,"contextmenu",t.Cb),D&&Ic(n,i,"dblclick",t.gd))}function Fe(t,e){Ge(t,2,e)&&t.L(2,e)}function X(t,e){return!!(t.jc&e)&&!!(t.P&e)}function Ge(t,e,n){return!(!(t.P&e)||!!(t.t&e)==n||t.ee&e&&!t.dispatchEvent(xe(e,n))||t.Zc)}function Ie(t,e){if(X(t,16)){var n=!(16&t.t);Ge(t,16,n)&&t.L(16,n)}return X(t,8)&&Ge(t,8,j)&&t.L(8,j),X(t,64)&&(n=!(64&t.t),Ge(t,64,n)&&t.L(64,n)),n=new pc("action",t),e&&(n.altKey=e.altKey,n.ctrlKey=e.ctrlKey,n.metaKey=e.metaKey,n.shiftKey=e.shiftKey,n.xc=e.xc),t.dispatchEvent(n)}function Ke(){return new W(m)}function Le(){}function Me(t,e,n){W.call(this,t,e||Le.nb(),n),De(this),this.Ob(j),t||(this.fb="")}function Oe(t){return t.ob.top+t.ob.bottom+t.Tc.top+t.Tc.bottom}function Pe(t){var e=t.wd,n=t.c();return e&&n&&t.Ib&&(e-=Oe(t)),e}function Qe(t){var e=t.Ud,n=t.c();return e&&n&&t.Ib&&(e-=Oe(t)),e}function Re(t){if(!t.nd){var e=t.c().cloneNode(n);R(e,{position:"absolute",height:"auto",top:"-9999px",margin:"0",padding:"1px",border:"1px solid #000",overflow:"hidden"}),t.ed().I.body.appendChild(e);var i=e.scrollHeight;e.style.padding="10px";var r=e.scrollHeight;t.zc=r>i,e.style.borderWidth="10px",t.yc=e.scrollHeight>r,e.style.height="100px",100!=e.offsetHeight&&(t.Ib=j),zb(e),t.nd=j}var e=t.c(),i=t.c().scrollHeight,o=t.c(),r=o.offsetHeight-o.clientHeight;if(!t.zc)var a=t.ob,r=r-(a.top+a.bottom);return t.yc||(o=gd(o),r-=o.top+o.bottom),i+=r>0?r:0,t.Ib?i-=Oe(t):(t.zc||(r=t.ob,i+=r.top+r.bottom),t.yc||(t=gd(e),i+=t.top+t.bottom)),i}function Se(t,e){t.fa!=e&&(t.fa=e,t.c().style.height=e+"px")}function Te(t){t=t.c(),t.style.height="auto";var e=t.value.match(/\n/g)||[];t.rows=e.length+1}function Ue(t){return"object"==typeof t&&t&&0===t.je?t.content:String(t).replace(Ve,We)}function We(t){return Xe[t]}function Ye(){return'<div class="annotorious-popup top-left" style="position:absolute;z-index:1"><div class="annotorious-popup-buttons"><a class="annotorious-popup-button annotorious-popup-button-edit" title="Edit" href="javascript:void(0);">EDIT</a><a class="annotorious-popup-button annotorious-popup-button-delete" title="Delete" href="javascript:void(0);">DELETE</a></div><span class="annotorious-popup-text"></span></div>'}function Ze(){return'<div class="annotorious-editor" style="position:absolute;z-index:1"><form><textarea class="annotorious-editor-text" placeholder="Add a Comment..." tabindex="1"></textarea><div class="annotorious-editor-button-container"><a class="annotorious-editor-button annotorious-editor-button-cancel" href="javascript:void(0);" tabindex="3">Cancel</a><a class="annotorious-editor-button annotorious-editor-button-save" href="javascript:void(0);" tabindex="2">Save</a></div></form></div>'}function $e(t){function e(){var t=r.Ea;t.c()&&t.Ka()}this.element=Pd(Ze),this.e=t,this.Id=t.getItem(),this.Ea=new Me(""),this.Gd=K(".annotorious-editor-button-cancel",this.element)[0],this.Ic=K(".annotorious-editor-button-save",this.element)[0];var i;i=this.Ic,hb?i=i.parentElement:(i=i.parentNode,i=Ab(i)?i:m),this.Hd=i,this.Va=[];var r=this;N(this.Gd,"click",function(e){e.preventDefault(),t.stopSelection(r.Pc),r.close()}),N(this.Ic,"click",function(e){e.preventDefault(),e=r.cd(),t.z(e),t.stopSelection(),r.Pc?t.fireEvent("onAnnotationUpdated",e):t.fireEvent("onAnnotationCreated",e),r.close()}),U(this.element,n),t.element.appendChild(this.element),this.Ea.gb(K(".annotorious-editor-text",this.element)[0]);var o=this.element;i=document.createElement("div"),R(i,"position","absolute"),R(i,"top","0px"),R(i,"right","0px"),R(i,"width","5px"),R(i,"height","100%"),R(i,"cursor","e-resize"),o.appendChild(i);var a=gd(o),a=$c(o).width-a.right-a.left;i=new hd(i),i.rc=new Lc(a,0,800,0)||new Lc(0/0,0/0,0/0,0/0),i.Yc=function(t){R(o,"width",t+"px"),e&&e()}}function af(t,e,n){var i=this;n||(n="Click and Drag to Annotate"),this.element=Pd(bf,{uc:n}),this.e=t,this.Mc=K(".annotorious-hint-msg",this.element)[0],this.Kc=K(".annotorious-hint-icon",this.element)[0],this.dc=function(){i.show()},this.cc=function(){cf(i)},this.Tb(),cf(this),e.appendChild(this.element)}function cf(t){window.clearTimeout(t.Zb),T(t.Mc,0)}function df(t){this.element=Pd(Ye),this.e=t,this.Jd=K(".annotorious-popup-text",this.element)[0],this.N=K(".annotorious-popup-buttons",this.element)[0],this.Xb=n,this.Va=[];var e=K(".annotorious-popup-button-edit",this.N)[0],i=K(".annotorious-popup-button-delete",this.N)[0],r=this;N(e,"mouseover",function(){jb(e,"annotorious-popup-button-active")}),N(e,"mouseout",function(){lb(e,"annotorious-popup-button-active")}),N(e,"click",function(){T(r.element,0),R(r.element,"pointer-events","none"),t.$c(r.f)}),N(i,"mouseover",function(){jb(i,"annotorious-popup-button-active")}),N(i,"mouseout",function(){lb(i,"annotorious-popup-button-active")}),N(i,"click",function(){t.fireEvent("beforeAnnotationRemoved",r.f)||(T(r.element,0),R(r.element,"pointer-events","none"),t.w(r.f),t.fireEvent("onAnnotationRemoved",r.f))}),ef&&(N(this.element,"mouseover",function(){window.clearTimeout(r.Vb),.9>(r.N.style[za("opacity")]||"")&&T(r.N,.9),r.clearHideTimer()}),N(this.element,"mouseout",function(){T(r.N,0),r.startHideTimer()}),t.l("onMouseOutOfItem",function(){r.startHideTimer()})),T(this.N,0),T(this.element,0),R(this.element,"pointer-events","none"),t.element.appendChild(this.element)}function ff(t,e){this.S=t,this.e=e,this.wa=[],this.T=[],this.F=this.S.getContext("2d"),this.la=j,this.ub=n;
var i=this;N(this.S,gf,function(t){if(i.la){var e=hf(i,t.offsetX,t.offsetY);e?(i.ub=i.ub&&e==i.f,i.f?i.f!=e&&(i.la=n,i.e.popup.startHideTimer()):(i.f=e,jf(i),i.e.fireEvent("onMouseOverAnnotation",{ma:i.f,mouseEvent:t}))):!i.ub&&i.f&&(i.la=n,i.e.popup.startHideTimer())}else i.Ua=t}),e.l("onMouseOutOfItem",function(){delete i.f,i.la=j}),e.l("beforePopupHide",function(){if(!i.la&&i.Ua){var t=i.f;i.f=hf(i,i.Ua.offsetX,i.Ua.offsetY),i.la=j,t!=i.f?(jf(i),i.e.fireEvent("onMouseOutOfAnnotation",{ma:t,mouseEvent:i.Ua}),i.e.fireEvent("onMouseOverAnnotation",{ma:i.f,mouseEvent:i.Ua})):i.f&&i.e.popup.clearHideTimer()}else jf(i)})}function hf(t,e,n){return t=t.kb(e,n),0<t.length?t[0]:void 0}function kf(t,e,n){var i=Ea(t.e.qa(),function(t){return t.getSupportedShapeType()==e.type});i?i.drawShape(t.F,e,n):console.log("WARNING unsupported shape type: "+e.type)}function jf(t){if(t.F.clearRect(0,0,t.S.width,t.S.height),B(t.wa,function(e){e!=t.f&&kf(t,t.T[Fd(e.shapes[0])])}),t.f){var e=t.T[Fd(t.f.shapes[0])];kf(t,e,j),e=Cd(e).geometry,t.e.popup.show(t.f,new vd(e.x,e.y+e.height+5))}}function qf(t,e){var i=n;return t.offsetX=t.offsetX?t.offsetX:n,t.offsetY=t.offsetY?t.offsetY:n,i=!t.offsetX||!t.offsetY&&t.n.changedTouches?{x:t.n.changedTouches[0].clientX-qd(e).left,y:t.n.changedTouches[0].clientY-qd(e).top}:{x:t.offsetX,y:t.offsetY}}function rf(){}function sf(t){return'<canvas class="annotorious-item annotorious-opacity-fade" style="position:absolute; top:0px; left:0px; width:'+Ue(t.width)+"px; height:"+Ue(t.height)+'px; z-index:0" width="'+Ue(t.width)+'" height="'+Ue(t.height)+'"></canvas>'}function bf(t){return'<div class="annotorious-hint" style="white-space:nowrap; position:absolute; top:0px; left:0px; pointer-events:none;"><div class="annotorious-hint-msg annotorious-opacity-fade">'+Ue(t.uc)+'</div><div class="annotorious-hint-icon" style="pointer-events:auto"></div></div>'}function tf(t,e){function i(e,n){R(r,"margin-"+e,n+"px"),R(t,"margin-"+e,0),R(t,"padding-"+e,0)}this.aa=t,this.Qc={padding:t.style.padding,margin:t.style.margin},this.v=new rd,this.Da=[],this.ec=j,this.element=wb("div","annotorious-annotationlayer"),R(this.element,"position","relative"),R(this.element,"display","inline-block");var r=this.element,o=dd(t,"margin"),a=dd(t,"padding");(0!=o.top||0!=a.top)&&i("top",o.top+a.top),(0!=o.right||0!=a.right)&&i("right",o.right+a.right),(0!=o.bottom||0!=a.bottom)&&i("bottom",o.bottom+a.bottom),(0!=o.left||0!=a.left)&&i("left",o.left+a.left),(o=t.parentNode)&&o.replaceChild(this.element,t),this.element.appendChild(t),o=$c(t),this.ca=Pd(sf,{width:o.width,height:o.height}),ef&&jb(this.ca,"annotorious-item-unfocus"),this.element.appendChild(this.ca),this.d=Pd(sf,{width:o.width,height:o.height}),ef&&U(this.d,n),this.element.appendChild(this.d),this.popup=e?e:new df(this),o=new rf,o.init(this,this.d),this.Da.push(o),this.za=o,this.editor=new $e(this),this.k=new ff(this.ca,this),this.Xa=new af(this,this.element);var s=this;ef&&(N(this.element,nf,function(t){t=t.relatedTarget,t&&Bb(s.element,t)||(s.v.fireEvent("onMouseOverItem"),nb(s.ca,"annotorious-item-unfocus","annotorious-item-focus"))}),N(this.element,pf,function(t){t=t.relatedTarget,t&&Bb(s.element,t)||(s.v.fireEvent("onMouseOutOfItem"),nb(s.ca,"annotorious-item-focus","annotorious-item-unfocus"))}));var c=lf?this.d:this.ca;N(c,mf,function(t){t=qf(t,c),s.k.r(n),s.ec?(U(s.d,j),s.za.startSelection(t.x,t.y)):(t=s.k.kb(t.x,t.y),0<t.length&&s.k.r(t[0]))}),this.v.l("onSelectionCompleted",function(t){var e=t.viewportBounds;s.editor.setPosition(new vd(e.left+s.aa.offsetLeft,e.bottom+4+s.aa.offsetTop)),s.editor.open(n,t)}),this.v.l("onSelectionCanceled",function(){ef&&U(s.d,n),s.za.stopSelection()})}function uf(t){var e=t.getAttribute("data-original");return e?e:t.src}function vf(){Id(this,function(){return K("img.annotatable",document)})}function wf(t){return'<div class="annotorious-opacity-fade" style="white-space:nowrap; position:absolute; pointer-events:none; top:80px; width:100%; text-align:center;"><div class="annotorious-ol-hint" style="width: 400px; margin:0px auto;">'+Ue(t.uc)+"</dvi></div>"}function xf(t,e){this.ba=t,this.Ya=$c(e.element),this.Q=e.popup,R(this.Q.element,"z-index",99e3),this.Za=[],this.qb=new OpenLayers.Layer.Boxes("Annotorious"),this.ba.addLayer(this.qb);var n=this;this.ba.events.register("move",this.ba,function(){n.Aa&&yf(n)}),e.l("beforePopupHide",function(){n.$b==n.Aa?n.Q.clearHideTimer():zf(n,n.$b,n.Aa)})}function yf(t){var e=t.Aa.Hb.div,n=$c(e),i=Uc(e,t.ba.div),e=i.y,i=i.x,r=n.width,o=n.height,n=$c(t.Q.element),e={y:e+o+5};i+n.width>t.Ya.width?(nb(t.Q.element,"top-left","top-right"),e.x=i+r-n.width):(nb(t.Q.element,"top-right","top-left"),e.x=i),0>e.x&&(e.x=0),e.x+n.width>t.Ya.width&&(e.x=t.Ya.width-n.width),e.y+n.height>t.Ya.height&&(e.y=t.Ya.height-n.height),t.Q.setPosition(e)}function zf(t,e,n){e?(Uc(e.Hb.div,t.ba.div),za("height"),R(e.qd,"border-color","#fff000"),t.Aa=e,t.Q.setAnnotation(e.ma),yf(t),t.Q.show()):delete t.Aa,n&&R(n.qd,"border-color","#fff")}function Af(t){function e(){var t=parseInt(S(o.element,"width"),10),e=parseInt(S(o.element,"height"),10);Xc(o.d,t,e),o.d.width=t,o.d.height=e}this.ba=t,this.element=t.div;var r=this.element.style[za("position")]||"";"absolute"!=r&&"relative"!=r&&R(this.element,"position","relative"),this.v=new rd,this.Ca=Pd(wf,{uc:"Click and Drag"}),R(this.Ca,"z-index",9998),T(this.Ca,0),this.element.appendChild(this.Ca),this.popup=new df(this),this.k=new xf(t,this),this.d=Pd(sf,{width:"0",height:"0"}),U(this.d,n),R(this.d,"position","absolute"),R(this.d,"top","0px"),R(this.d,"z-index",9999),this.element.appendChild(this.d);var o=this;e(),this.bb=new rf,this.bb.init(this,this.d),this.vb=i,this.editor=new $e(this),R(this.editor.element,"z-index",1e4),window.addEventListener?window.addEventListener("resize",e,n):window.attachEvent&&window.attachEvent("onresize",e),N(this.element,"mouseover",function(t){t=t.relatedTarget,(!t||!Bb(o.element,t))&&o.v.fireEvent("onMouseOverItem")}),N(this.element,"mouseout",function(t){t=t.relatedTarget,(!t||!Bb(o.element,t))&&o.v.fireEvent("onMouseOutOfItem")}),N(this.d,"mousedown",function(t){var e=Vc(o.element);o.bb.startSelection(t.clientX-e.x,t.clientY-e.y)}),this.v.l("onSelectionCompleted",function(t){R(o.d,"pointer-events","none"),t=t.viewportBounds,o.editor.setPosition(new vd(t.left,t.bottom+4)),o.editor.open()}),this.v.l("onSelectionCanceled",function(){o.stopSelection()})}function Bf(){Id(this)}function Y(){function t(){Cf(e)}this.Lc=n,this.o=[new vf],window.OpenLayers&&this.o.push(new Bf),this.$a=[];var e=this;window.addEventListener?window.addEventListener("load",t,n):window.attachEvent&&window.attachEvent("onload",t)}function Cf(t){t.Lc||(B(t.o,function(t){t.init()}),B(t.$a,function(e){e.initPlugin&&e.initPlugin(t),B(t.o,function(t){t.wb(e)})}),t.Lc=j)}function Z(t,e){return Ea(t.o,function(t){return Od(t,e)})}function init_map(t){var e={div:"map",maxExtent:new OpenLayers.Bounds(0,-2803,2037,0),maxResolution:16,numZoomLevels:5};map=new OpenLayers.Map("map",e);var n=new OpenLayers.Layer.TMS("TMS Layer","",{serviceVersion:"/stampee/"+t,layername:".",alpha:!0,type:"png"});map.addLayer(n),map.zoomToExtent(mapBounds),anno.makeAnnotatable(map)}function getWindowHeight(){return self.innerHeight?self.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:document.body?document.body.clientHeight:0}function getWindowWidth(){return self.innerWidth?self.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:document.body?document.body.clientWidth:0}function resize(){var t=document.getElementById("map");t.style.height=getWindowHeight()-20+"px",t.style.width=getWindowWidth()-20+"px",t.updateSize&&t.updateSize()}function annotate(){var t=document.getElementById("map-annotate-button");t.style.color="#777",anno.activateSelector(function(){t.style.color="#fff"})}var i=void 0,j=!0,m=null,n=!1,r,s=this,la="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),ma=0,ra=Date.now||function(){return+new Date},va=/&/g,wa=/</g,xa=/>/g,ya=/\"/g,ua=/[&<>\"]/,z=Array.prototype,Aa=z.indexOf?function(t,e,n){return z.indexOf.call(t,e,n)}:function(e,n,i){if(i=i==m?0:0>i?Math.max(0,e.length+i):i,t(e))return t(n)&&1==n.length?e.indexOf(n,i):-1;for(;i<e.length;i++)if(i in e&&e[i]===n)return i;return-1},B=z.forEach?function(t,e,n){z.forEach.call(t,e,n)}:function(e,n,i){for(var r=e.length,o=t(e)?e.split(""):e,a=0;r>a;a++)a in o&&n.call(i,o[a],a,e)},Ba=z.filter?function(t,e,n){return z.filter.call(t,e,n)}:function(e,n,i){for(var r=e.length,o=[],a=0,s=t(e)?e.split(""):e,c=0;r>c;c++)if(c in s){var h=s[c];n.call(i,h,c,e)&&(o[a++]=h)}return o},Ca=z.map?function(t,e,n){return z.map.call(t,e,n)}:function(e,n,i){for(var r=e.length,o=Array(r),a=t(e)?e.split(""):e,s=0;r>s;s++)s in a&&(o[s]=n.call(i,a[s],s,e));return o},Da=z.every?function(t,e,n){return z.every.call(t,e,n)}:function(e,i,r){for(var o=e.length,a=t(e)?e.split(""):e,s=0;o>s;s++)if(s in a&&!i.call(r,a[s],s,e))return n;return j},Ka,La,Ma,Na,Oa;Na=Ma=La=Ka=n;var Ra;if(Ra=Pa()){var Sa=Qa();Ka=0==Ra.indexOf("Opera"),La=!Ka&&-1!=Ra.indexOf("MSIE"),Ma=!Ka&&-1!=Ra.indexOf("WebKit"),Na=!Ka&&!Ma&&"Gecko"==Sa.product}var Ta=Ka,D=La,F=Na,G=Ma,Ua=Qa();Oa=-1!=(Ua&&Ua.platform||"").indexOf("Mac");var Va=!!Qa()&&-1!=(Qa().appVersion||"").indexOf("X11"),Wa;t:{var Xa="",Ya;if(Ta&&s.opera)var Za=s.opera.version,Xa="function"==typeof Za?Za():Za;else if(F?Ya=/rv\:([^\);]+)(\)|;)/:D?Ya=/MSIE\s+([^\);]+)(\)|;)/:G&&(Ya=/WebKit\/(\S+)/),Ya)var $a=Ya.exec(Pa()),Xa=$a?$a[1]:"";if(D){var ab,bb=s.document;if(ab=bb?bb.documentMode:i,ab>parseFloat(Xa)){Wa=String(ab);break t}}Wa=Xa}var cb={},db={},fb,gb=!D||eb(9);!F&&!D||D&&eb(9)||F&&H("1.9.1"),D&&H("9");var hb=D||Ta||G;ob.prototype.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},ob.prototype.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};var qb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),vb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};r=tb.prototype,r.ed=sb,r.c=function(e){return t(e)?this.I.getElementById(e):e},r.Y=ub,r.createElement=function(t){return this.I.createElement(t)},r.createTextNode=function(t){return this.I.createTextNode(t)},r.appendChild=function(t,e){t.appendChild(e)},r.append=function(t){xb(J(t),t,arguments,1)},r.contains=Bb;var Eb;Eb=ba(j);var Gb=G&&"BackCompat"==document.compatMode,Hb=document.firstChild.children?"children":"childNodes",Ib=n,Nb={"*=":function(t,e){return function(n){return 0<=Mb(n,t).indexOf(e)}},"^=":function(t,e){return function(n){return 0==Mb(n,t).indexOf(e)}},"$=":function(t,e){return function(n){return n=" "+Mb(n,t),n.lastIndexOf(e)==n.length-e.length}},"~=":function(t,e){var n=" "+e+" ";return function(e){return 0<=(" "+Mb(e,t)+" ").indexOf(n)}},"|=":function(t,e){return e=" "+e,function(n){return n=" "+Mb(n,t),n==e||0==n.indexOf(e+"-")}},"=":function(t,e){return function(n){return Mb(n,t)==e}}},Ob="undefined"==typeof document.firstChild.nextElementSibling,Pb=Ob?"nextSibling":"nextElementSibling",Qb=Ob?"previousSibling":"previousElementSibling",Rb=Ob?Lb:Eb,Yb={checked:function(){return function(t){return t.checked||t.attributes.checked}},"first-child":function(){return Sb},"last-child":function(){return Tb},"only-child":function(){return function(t){return Sb(t)&&Tb(t)?j:n}},empty:function(){return function(t){for(var e=t.childNodes,t=t.childNodes.length-1;t>=0;t--){var i=e[t].nodeType;if(1===i||3==i)return n}return j}},contains:function(t,e){var n=e.charAt(0);return('"'==n||"'"==n)&&(e=e.slice(1,-1)),function(t){return 0<=t.innerHTML.indexOf(e)}},not:function(t,e){var n=Jb(e)[0],i={A:1};"*"!=n.D&&(i.D=1),n.U.length||(i.U=1);var r=Xb(n,i);return function(t){return!r(t)}},"nth-child":function(t,e){if("odd"==e)return Wb;if("even"==e)return Vb;if(-1!=e.indexOf("n")){var n=e.split("n",2),i=n[0]?"-"==n[0]?-1:parseInt(n[0],10):1,r=n[1]?parseInt(n[1],10):0,o=0,a=-1;if(i>0?0>r?r=r%i&&i+r%i:r>0&&(r>=i&&(o=r-r%i),r%=i):0>i&&(i*=-1,r>0&&(a=r,r%=i)),i>0)return function(t){return t=Ub(t),t>=o&&(0>a||a>=t)&&t%i==r};e=r}var s=parseInt(e,10);return function(t){return Ub(t)==s}}},Zb=D?function(t){var e=t.toLowerCase();return"class"==e&&(t="className"),function(n){return Ib?n.getAttribute(t):n[t]||n[e]}}:function(t){return function(e){return e&&e.getAttribute&&e.hasAttribute(t)}},$b={},cc={},dc={},fc=!!document.querySelectorAll&&(!G||H("526")),hc=0,ic=D?function(t){return Ib?t.getAttribute("_uid")||t.setAttribute("_uid",++hc)||hc:t.uniqueID}:function(t){return t._uid||(t._uid=++hc)};K.ta=Yb,ca("goog.dom.query",K),ca("goog.dom.query.pseudos",K.ta);var kc=!D||eb(9),lc=!D||eb(9),mc=D&&!H("9");!G||H("528"),F&&H("1.9b")||D&&H("8")||Ta&&H("9.5")||G&&H("528"),F&&!H("8")||D&&H("9");var oc=0;nc.prototype.Zc=n,r=pc.prototype,r.sa=n,r.defaultPrevented=n,r.Nb=j,r.stopPropagation=function(){this.sa=j},r.preventDefault=function(){this.defaultPrevented=j,this.Nb=n},rc[" "]=ea,v(sc,pc);var tc=[1,4,2];r=sc.prototype,r.target=m,r.relatedTarget=m,r.offsetX=0,r.offsetY=0,r.clientX=0,r.clientY=0,r.screenX=0,r.screenY=0,r.button=0,r.keyCode=0,r.charCode=0,r.ctrlKey=n,r.altKey=n,r.shiftKey=n,r.metaKey=n,r.xc=n,r.n=m,r.init=function(t,e){var r=this.type=t.type;pc.call(this,r),this.target=t.target||t.srcElement,this.currentTarget=e;var o=t.relatedTarget;if(o){if(F){var a;t:{try{rc(o.nodeName),a=j;break t}catch(s){}a=n}a||(o=m)}}else"mouseover"==r?o=t.fromElement:"mouseout"==r&&(o=t.toElement);this.relatedTarget=o,this.offsetX=G||t.offsetX!==i?t.offsetX:t.layerX,this.offsetY=G||t.offsetY!==i?t.offsetY:t.layerY,this.clientX=t.clientX!==i?t.clientX:t.pageX,this.clientY=t.clientY!==i?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0,this.button=t.button,this.keyCode=t.keyCode||0,this.charCode=t.charCode||("keypress"==r?t.keyCode:0),this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.xc=Oa?t.metaKey:t.ctrlKey,this.state=t.state,this.n=t,t.defaultPrevented&&this.preventDefault(),delete this.sa},r.stopPropagation=function(){sc.G.stopPropagation.call(this),this.n.stopPropagation?this.n.stopPropagation():this.n.cancelBubble=j},r.preventDefault=function(){sc.G.preventDefault.call(this);var t=this.n;if(t.preventDefault)t.preventDefault();else if(t.returnValue=n,mc)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},r.Ld=p("n");var wc=0;r=vc.prototype,r.key=0,r.ua=n,r.Uc=n,r.init=function(t,e,i,r,o,a){u(t)?this.ud=j:t&&t.handleEvent&&u(t.handleEvent)?this.ud=n:g(Error("Invalid listener argument")),this.Pa=t,this.zd=e,this.src=i,this.type=r,this.capture=!!o,this.La=a,this.Uc=n,this.key=++wc,this.ua=n},r.handleEvent=function(t){return this.ud?this.Pa.call(this.La||this.src,t):this.Pa.handleEvent.call(this.Pa,t)};var xc={},M={},yc={},zc={};v(Gc,nc);var Hc=[];Gc.prototype.Mb=function(){B(this.h,O),this.h.length=0},Gc.prototype.handleEvent=function(){g(Error("EventHandler.handleEvent not implemented"))},v(Jc,nc),r=Jc.prototype,r.Wc=j,r.wc=m,r.Bc=function(t){this.wc=t},r.addEventListener=function(t,e,n,i){N(this,t,e,n,i)},r.removeEventListener=function(t,e,n,i){Bc(this,t,e,n,i)},r.dispatchEvent=function(e){var i=e.type||e,r=M;if(i in r){if(t(e))e=new pc(e,this);else if(e instanceof pc)e.target=e.target||this;else{var o=e,e=new pc(i,this);rb(e,o)}var a,s,o=1,r=r[i],i=j in r;if(i){for(a=[],s=this;s;s=s.wc)a.push(s);s=r[j],s.K=s.m;for(var c=a.length-1;!e.sa&&c>=0&&s.K;c--)e.currentTarget=a[c],o&=Ec(s,a[c],e.type,j,e)&&e.Nb!=n}if(n in r)if(s=r[n],s.K=s.m,i)for(c=0;!e.sa&&c<a.length&&s.K;c++)e.currentTarget=a[c],o&=Ec(s,a[c],e.type,n,e)&&e.Nb!=n;else for(a=this;!e.sa&&a&&s.K;a=a.wc)e.currentTarget=a,o&=Ec(s,a,e.type,n,e)&&e.Nb!=n;e=Boolean(o)}else e=j;return e},Kc.prototype.contains=function(t){return this&&t?t instanceof Kc?t.left>=this.left&&t.right<=this.right&&t.top>=this.top&&t.bottom<=this.bottom:t.x>=this.left&&t.x<=this.right&&t.y>=this.top&&t.y<=this.bottom:n},Lc.prototype.contains=function(t){return t instanceof Lc?this.left<=t.left&&this.left+this.width>=t.left+t.width&&this.top<=t.top&&this.top+this.height>=t.top+t.height:t.x>=this.left&&t.x<=this.left+this.width&&t.y>=this.top&&t.y<=this.top+this.height};var bd=F?"MozUserSelect":G?"WebkitUserSelect":m,ed={thin:2,medium:4,thick:6},Wc=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/;v(hd,Jc);var id=D||F&&H("1.9.3");r=hd.prototype,r.clientX=0,r.clientY=0,r.screenX=0,r.screenY=0,r.Cd=0,r.Dd=0,r.Ga=0,r.Ha=0,r.ad=j,r.oa=n,r.od=0,r.Vd=0,r.Sd=n,r.Dc=n,r.Bb=p("ea"),r.de=function(t){var e="mousedown"==t.type;if(!this.ad||this.oa||e&&!uc(t))this.dispatchEvent("earlycancel");else{if(kd(t),0==this.od){if(!this.dispatchEvent(new ld("start",this,t.clientX,t.clientY,t)))return;this.oa=j,t.preventDefault()}else t.preventDefault();var e=this.I,i=e.documentElement,r=!id;P(this.ea,e,["touchmove","mousemove"],this.Qd,r),P(this.ea,e,["touchend","mouseup"],this.zb,r),id?(i.setCapture(n),P(this.ea,i,"losecapture",this.zb)):P(this.ea,e?e.parentWindow||e.defaultView:window,"blur",this.zb),D&&this.Sd&&P(this.ea,e,"dragstart",qc),this.ae&&P(this.ea,this.ae,"scroll",this.Yd,r),this.clientX=this.Cd=t.clientX,this.clientY=this.Dd=t.clientY,this.screenX=t.screenX,this.screenY=t.screenY,this.Dc?(t=this.target,e=t.offsetLeft,i=t.offsetParent,!i&&"fixed"==Oc(t,"position")&&(i=J(t).documentElement),i?(F?(r=gd(i),e+=r.left):eb(8)&&(r=gd(i),e-=r.left),t=ad(i)?i.clientWidth-(e+t.offsetWidth):e):t=e):t=this.target.offsetLeft,this.Ga=t,this.Ha=this.target.offsetTop,this.vc=Db(sb(this.I)),this.Vd=ra()}},r.zb=function(t,e){if(this.ea.Mb(),id&&this.I.releaseCapture(),this.oa){kd(t),this.oa=n;var i=md(this,this.Ga),r=nd(this,this.Ha);this.dispatchEvent(new ld("end",this,t.clientX,t.clientY,t,i,r,e||"touchcancel"==t.type))}else this.dispatchEvent("earlycancel");("touchend"==t.type||"touchcancel"==t.type)&&t.preventDefault()},r.Qd=function(t){if(this.ad){kd(t);var e=(this.Dc&&jd(this)?-1:1)*(t.clientX-this.clientX),n=t.clientY-this.clientY;if(this.clientX=t.clientX,this.clientY=t.clientY,this.screenX=t.screenX,this.screenY=t.screenY,!this.oa){var i=this.Cd-this.clientX,r=this.Dd-this.clientY;if(i*i+r*r>this.od){if(!this.dispatchEvent(new ld("start",this,t.clientX,t.clientY,t)))return this.Zc||this.zb(t),void 0;this.oa=j}}n=od(this,e,n),e=n.x,n=n.y,this.oa&&this.dispatchEvent(new ld("beforedrag",this,t.clientX,t.clientY,t,e,n))&&(pd(this,t,e,n),t.preventDefault())}},r.Yd=function(t){var e=od(this,0,0);t.clientX=this.clientX,t.clientY=this.clientY,pd(this,t,e.x,e.y)},r.Yc=function(t,e){this.Dc&&jd(this)?this.target.style.right=t+"px":this.target.style.left=t+"px",this.target.style.top=e+"px"},v(ld,pc),rd.prototype.l=function(t,e){this.Wa[t]||(this.Wa[t]=[]),this.Wa[t].push(e)},rd.prototype.Ra=function(t,e){var n=this.Wa[t];n&&C(n,e)},rd.prototype.fireEvent=function(t,e){var i=n,r=this.Wa[t];return r&&B(r,function(t){t=t(e),da(t)&&!t&&(i=j)}),i},r=sd.prototype,r.m=0,r.Ec=0,r.clear=function(){this.R={},this.Ec=this.m=this.h.length=0},r.remove=function(t){return ud(this.R,t)?(delete this.R[t],this.m--,this.Ec++,this.h.length>2*this.m&&td(this),j):n},r.get=function(t,e){return ud(this.R,t)?this.R[t]:e},r.set=function(t,e){ud(this.R,t)||(this.m++,this.h.push(t),this.Ec++),this.R[t]=e},r=Hd.prototype,r.da=function(e,n){var r=i,o=i;t(e)?(r=e,o=n):u(e)&&(o=e),r?(r=this.g.get(r))&&r.da(o):B(V(this.g),function(t){t.da(o)})},r.z=function(t,e){if(Od(this,t.src)){var n=this.g.get(t.src);n?n.z(t,e):(this.xa.push(t),e&&C(this.xa,e))}},r.l=function(t,e){B(V(this.g),function(n){n.l(t,e)}),this.Jc.push({type:t,La:e})},r.wb=function(t){this.$a.push(t),B(V(this.g),function(e){t.onInitAnnotator&&t.onInitAnnotator(e)})},r.destroy=function(t){t?(t=this.g.get(t))&&t.destroy():(B(V(this.g),function(t){t.destroy()}),this.g.clear())},r.pa=function(t){return Od(this,t)&&(t=this.g.get(t))?t.pa().getName():void 0},r.J=function(t){if(t){var e=this.g.get(t);return e?e.J():Ba(this.xa,function(e){return e.src==t})}var n=[];return B(V(this.g),function(t){Ha(n,t.J())}),Ha(n,this.xa),n},r.qa=function(t){return Od(this,t)&&(t=this.g.get(t))?Ca(t.qa(),function(t){return t.getName()}):void 0},r.W=function(t){Md(this,t,n)},r.O=function(t){Nd(this,t,n)},r.r=function(t){if(t){if(Od(this,t.src)){var e=this.g.get(t.src);e&&e.r(t)}}else B(V(this.g),function(t){t.r()})},r.init=function(){this.Rc&&Ha(this.Ba,this.Rc()),Ld(this);var t=this,e=N(window,"scroll",function(){0<t.Ba.length?Ld(t):O(e)})},r.sc=function(t){this.Cc(t)&&Kd(this,t)},r.w=function(t){if(Od(this,t.src)){var e=this.g.get(t.src);e?e.w(t):this.Ub.push(t)}},r.pb=function(t,e){if(Od(this,t)){var n=this.g.get(t);n&&n.pb(e)}},r.Y=function(t){this.Wb=t,B(V(this.g),function(e){e.Y(t)})},r.va=function(t){Md(this,t,j)},r.Z=function(t){Nd(this,t,j)};var Qd={};r=Rd.prototype,r.na="",r.set=function(t){this.na=""+t},r.append=function(t,e){if(this.na+=t,e!=m)for(var n=1;n<arguments.length;n++)this.na+=arguments[n];return this},r.clear=function(){this.na=""},r.toString=p("na");var Td={oe:"<",ne:">",ge:"&",pe:" ",re:'"',he:"'"},Ud={a:0,abbr:0,acronym:0,address:0,applet:16,area:2,b:0,base:18,basefont:18,bdo:0,big:0,blockquote:0,body:49,br:2,button:0,caption:0,center:0,cite:0,code:0,col:2,colgroup:1,dd:1,del:0,dfn:0,dir:0,div:0,dl:0,dt:1,em:0,fieldset:0,font:0,form:0,frame:18,frameset:16,h1:0,h2:0,h3:0,h4:0,h5:0,h6:0,head:49,hr:2,html:49,i:0,iframe:20,img:2,input:2,ins:0,isindex:18,kbd:0,label:0,legend:0,li:1,link:18,map:0,menu:0,meta:18,noframes:20,noscript:20,object:16,ol:0,optgroup:0,option:1,p:1,param:18,pre:0,q:0,s:0,samp:0,script:20,select:0,small:0,span:0,strike:0,strong:0,style:20,sub:0,sup:0,table:0,tbody:1,td:1,textarea:8,tfoot:1,th:1,thead:1,title:24,tr:1,tt:0,u:0,ul:0,"var":0},Vd=/&/g,Wd=/&([^a-z#]|#(?:[^0-9x]|x(?:[^0-9a-f]|$)|$)|$)/gi,Xd=/</g,Yd=/>/g,Zd=/\"/g,$d=/=/g,ae=/\0/g,be=/&(#\d+|#x[0-9A-Fa-f]+|\w+);/g,ce=/^#(\d+)$/,de=/^#x([0-9A-Fa-f]+)$/,ee=RegExp("^\\s*(?:(?:([a-z][a-z-]*)(\\s*=\\s*(\"[^\"]*\"|'[^']*'|(?=[a-z][a-z-]*\\s*=)|[^>\"'\\s]*))?)|(/?>)|[^a-z\\s>]+)","i"),fe=RegExp("^(?:&(\\#[0-9]+|\\#[x][0-9a-f]+|\\w+);|<[!]--[\\s\\S]*?-->|<!\\w[^>]*>|<\\?[^>*]*>|<(/)?([a-z][a-z0-9]*)|([^<&>]+)|([<&>]))","i");Sd.prototype.parse=function(t,e){var r,o,a,s=m,c=n,h=[];for(t.M=[],t.ga=n;e;){var u=e.match(c?ee:fe),e=e.substring(u[0].length);if(c)if(u[1]){var f=u[1].toLowerCase();if(u[2]){switch(u=u[3],u.charCodeAt(0)){case 34:case 39:u=u.substring(1,u.length-1)}u=u.replace(ae,"").replace(be,pa(this.Td,this))}else u=f;h.push(f,u)}else u[4]&&(o!==i&&(a?t.Bd&&t.Bd(r,h):t.bd&&t.bd(r)),a&&12&o&&(s=s===m?e.toLowerCase():s.substring(s.length-e.length),c=s.indexOf("</"+r),0>c&&(c=e.length),4&o?t.Vc&&t.Vc(e.substring(0,c)):t.Ad&&t.Ad(e.substring(0,c).replace(Wd,"&amp;$1").replace(Xd,"&lt;").replace(Yd,"&gt;")),e=e.substring(c)),r=o=a=i,h.length=0,c=n);else if(u[1])ge(t,u[0]);else if(u[3])a=!u[2],c=j,r=u[3].toLowerCase(),o=Ud.hasOwnProperty(r)?Ud[r]:i;else if(u[4])ge(t,u[4]);else if(u[5])switch(u[5]){case"<":ge(t,"&lt;");break;case">":ge(t,"&gt;");break;default:ge(t,"&amp;")}}for(s=t.M.length;0<=--s;)t.$.append("</",t.M[s],">");t.M.length=0},Sd.prototype.Td=function(t){if(t=t.toLowerCase(),Td.hasOwnProperty(t))return Td[t];var e=t.match(ce);return e?String.fromCharCode(parseInt(e[1],10)):(e=t.match(de))?String.fromCharCode(parseInt(e[1],16)):""},v(ie,he);var je={"*::class":9,"*::dir":0,"*::id":4,"*::lang":0,"*::onclick":2,"*::ondblclick":2,"*::onkeydown":2,"*::onkeypress":2,"*::onkeyup":2,"*::onload":2,"*::onmousedown":2,"*::onmousemove":2,"*::onmouseout":2,"*::onmouseover":2,"*::onmouseup":2,"*::style":3,"*::title":0,"*::accesskey":0,"*::tabindex":0,"*::onfocus":2,"*::onblur":2,"a::coords":0,"a::href":1,"a::hreflang":0,"a::name":7,"a::onblur":2,"a::rel":0,"a::rev":0,"a::shape":0,"a::target":10,"a::type":0,"area::accesskey":0,"area::alt":0,"area::coords":0,"area::href":1,"area::nohref":0,"area::onfocus":2,"area::shape":0,"area::tabindex":0,"area::target":10,"bdo::dir":0,"blockquote::cite":1,"br::clear":0,"button::accesskey":0,"button::disabled":0,"button::name":8,"button::onblur":2,"button::onfocus":2,"button::tabindex":0,"button::type":0,"button::value":0,"caption::align":0,"col::align":0,"col::char":0,"col::charoff":0,"col::span":0,"col::valign":0,"col::width":0,"colgroup::align":0,"colgroup::char":0,"colgroup::charoff":0,"colgroup::span":0,"colgroup::valign":0,"colgroup::width":0,"del::cite":1,"del::datetime":0,"dir::compact":0,"div::align":0,"dl::compact":0,"font::color":0,"font::face":0,"font::size":0,"form::accept":0,"form::action":1,"form::autocomplete":0,"form::enctype":0,"form::method":0,"form::name":7,"form::onreset":2,"form::onsubmit":2,"form::target":10,"h1::align":0,"h2::align":0,"h3::align":0,"h4::align":0,"h5::align":0,"h6::align":0,"hr::align":0,"hr::noshade":0,"hr::size":0,"hr::width":0,"img::align":0,"img::alt":0,"img::border":0,"img::height":0,"img::hspace":0,"img::ismap":0,"img::longdesc":1,"img::name":7,"img::src":1,"img::usemap":11,"img::vspace":0,"img::width":0,"input::accept":0,"input::accesskey":0,"input::autocomplete":0,"input::align":0,"input::alt":0,"input::checked":0,"input::disabled":0,"input::ismap":0,"input::maxlength":0,"input::name":8,"input::onblur":2,"input::onchange":2,"input::onfocus":2,"input::onselect":2,"input::readonly":0,"input::size":0,"input::src":1,"input::tabindex":0,"input::type":0,"input::usemap":11,"input::value":0,"ins::cite":1,"ins::datetime":0,"label::accesskey":0,"label::for":5,"label::onblur":2,"label::onfocus":2,"legend::accesskey":0,"legend::align":0,"li::type":0,"li::value":0,"map::name":7,"menu::compact":0,"ol::compact":0,"ol::start":0,"ol::type":0,"optgroup::disabled":0,"optgroup::label":0,"option::disabled":0,"option::label":0,"option::selected":0,"option::value":0,"p::align":0,"pre::width":0,"q::cite":1,"select::disabled":0,"select::multiple":0,"select::name":8,"select::onblur":2,"select::onchange":2,"select::onfocus":2,"select::size":0,"select::tabindex":0,"table::align":0,"table::bgcolor":0,"table::border":0,"table::cellpadding":0,"table::cellspacing":0,"table::frame":0,"table::rules":0,"table::summary":0,"table::width":0,"tbody::align":0,"tbody::char":0,"tbody::charoff":0,"tbody::valign":0,"td::abbr":0,"td::align":0,"td::axis":0,"td::bgcolor":0,"td::char":0,"td::charoff":0,"td::colspan":0,"td::headers":6,"td::height":0,"td::nowrap":0,"td::rowspan":0,"td::scope":0,"td::valign":0,"td::width":0,"textarea::accesskey":0,"textarea::cols":0,"textarea::disabled":0,"textarea::name":8,"textarea::onblur":2,"textarea::onchange":2,"textarea::onfocus":2,"textarea::onselect":2,"textarea::readonly":0,"textarea::rows":0,"textarea::tabindex":0,"tfoot::align":0,"tfoot::char":0,"tfoot::charoff":0,"tfoot::valign":0,"th::abbr":0,"th::align":0,"th::axis":0,"th::bgcolor":0,"th::char":0,"th::charoff":0,"th::colspan":0,"th::headers":6,"th::height":0,"th::nowrap":0,"th::rowspan":0,"th::scope":0,"th::valign":0,"th::width":0,"thead::align":0,"thead::char":0,"thead::charoff":0,"thead::valign":0,"tr::align":0,"tr::bgcolor":0,"tr::char":0,"tr::charoff":0,"tr::valign":0,"ul::compact":0,"ul::type":0};ie.prototype.Bd=function(t,e){if(!this.ga&&Ud.hasOwnProperty(t)){var n=Ud[t];if(!(32&n))if(16&n)this.ga=!(2&n);else{for(var r=e,o=0;o<r.length;o+=2){var a,s=r[o],c=r[o+1],h=m;if(a=t+"::"+s,(je.hasOwnProperty(a)||(a="*::"+s,je.hasOwnProperty(a)))&&(h=je[a]),h!==m)switch(h){case 0:break;case 2:case 3:c=m;break;case 4:case 5:case 6:case 7:case 8:case 9:c=this.Jb?this.Jb(c):c;break;case 1:c=this.Fd&&this.Fd(c);break;case 11:c&&"#"===c.charAt(0)?(c=this.Jb?this.Jb(c):c)&&(c="#"+c):c=m;break;default:c=m}else c=m;r[o+1]=c}if(e=r){for(2&n||this.M.push(t),this.$.append("<",t),n=0,r=e.length;r>n;n+=2)o=e[n],s=e[n+1],s!==m&&s!==i&&this.$.append(" ",o,'="',s.replace(Vd,"&amp;").replace(Xd,"&lt;").replace(Yd,"&gt;").replace(Zd,"&#34;").replace($d,"&#61;"),'"');this.$.append(">")}}}},ie.prototype.bd=function(t){if(this.ga)this.ga=n;else if(Ud.hasOwnProperty(t)){var e=Ud[t];if(!(50&e)){if(1&e)for(e=this.M.length;0<=--e;){var i=this.M[e];if(i===t)break;if(!(1&Ud[i]))return}else for(e=this.M.length;0<=--e&&this.M[e]!==t;);if(!(0>e)){for(var r=this.M.length;--r>e;)i=this.M[r],1&Ud[i]||this.$.append("</",i,">");this.M.length=e,this.$.append("</",t,">")}}}},ie.prototype.Ad=function(t){this.ga||this.$.append(t)},ie.prototype.Vc=function(t){this.ga||this.$.append(t)},v(ne,Jc),r=ne.prototype,r.B=m,r.Eb=m,r.pc=m,r.Fb=m,r.ia=-1,r.ha=-1,r.hc=n;var pe={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},qe={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},re=D||G&&H("525"),se=Oa&&F;r=ne.prototype,r.Nd=function(t){G&&(17==this.ia&&!t.ctrlKey||18==this.ia&&!t.altKey)&&(this.ha=this.ia=-1),re&&!ke(t.keyCode,this.ia,t.shiftKey,t.ctrlKey,t.altKey)?this.handleEvent(t):(this.ha=F?me(t.keyCode):t.keyCode,se&&(this.hc=t.altKey))},r.Pd=function(t){this.ha=this.ia=-1,this.hc=t.altKey},r.handleEvent=function(t){var e,n,i=t.n,r=i.altKey;D&&"keypress"==t.type?(e=this.ha,n=13!=e&&27!=e?i.keyCode:0):G&&"keypress"==t.type?(e=this.ha,n=0<=i.charCode&&63232>i.charCode&&le(e)?i.charCode:0):Ta?(e=this.ha,n=le(e)?i.keyCode:0):(e=i.keyCode||this.ha,n=i.charCode||0,se&&(r=this.hc),Oa&&63==n&&224==e&&(e=191));var o=e,a=i.keyIdentifier;e?e>=63232&&e in pe?o=pe[e]:25==e&&t.shiftKey&&(o=9):a&&a in qe&&(o=qe[a]),t=o==this.ia,this.ia=o,i=new te(o,n,t,i),i.altKey=r,this.dispatchEvent(i)},r.c=p("B"),r.detach=function(){this.Eb&&(O(this.Eb),O(this.pc),O(this.Fb),this.Fb=this.pc=this.Eb=m),this.B=m,this.ha=this.ia=-1},v(te,sc),fa(ue),ue.prototype.Xd=0,ue.nb(),v(ve,Jc),ve.prototype.Rd=ue.nb();var we=m;r=ve.prototype,r.Db=m,r.X=n,r.B=m,r.ja=m,r.ra=m,r.eb=m,r.Fa=m,r.fe=n,r.c=p("B"),r.Bb=function(){return this.nc||(this.nc=new Gc(this))},r.Bc=function(t){this.ra&&this.ra!=t&&g(Error("Method not supported")),ve.G.Bc.call(this,t)},r.ed=p("hb"),r.gb=function(t){this.X&&g(Error("Component already rendered")),t&&this.cb(t)?(this.fe=j,this.hb&&this.hb.I==J(t)||(this.hb=sb(t)),this.Xc(t),this.Ia()):g(Error("Invalid element to decorate"))},r.cb=ba(j),r.Xc=function(t){this.B=t},r.Ia=function(){function t(t){!t.X&&t.c()&&t.Ia()}this.X=j,this.eb&&B(this.eb,t,i)},r.Ab=function(){function t(t){t.X&&t.Ab()}this.eb&&B(this.eb,t,i),this.nc&&this.nc.Mb(),this.X=n},r.lb=p("B"),r.Sa=function(t){this.X&&g(Error("Component already rendered")),this.ja=t},r.removeChild=function(e,n){if(e){var r,o=t(e)?e:e.Db||(e.Db=":"+(e.Rd.Xd++).toString(36));this.Fa&&o?(r=this.Fa,r=(o in r?r[o]:i)||m):r=m,e=r,o&&e&&(r=this.Fa,o in r&&delete r[o],C(this.eb,e),n&&(e.Ab(),e.B&&zb(e.B)),o=e,o==m&&g(Error("Unable to set parent component")),o.ra=m,ve.G.Bc.call(o,m))}return e||g(Error("Child is not in parent component")),e};var ze;fa(ye),r=ye.prototype,r.lb=function(t){return t},r.ib=function(t,e,n){if(t=t.c?t.c():t)if(D&&!H("7")){var i=Ae(ib(t),e);i.push(e),qa(n?jb:lb,t).apply(m,i)}else n?jb(t,e):lb(t,e)},r.cb=ba(j),r.gb=function(t,e){if(e.id){var i=e.id;if(t.ra&&t.ra.Fa){var r=t.ra.Fa,o=t.Db;o in r&&delete r[o],r=t.ra.Fa,i in r&&g(Error('The object already contains the key "'+i+'"')),r[i]=t}t.Db=i}(i=this.lb(e))&&i.firstChild?(i=i.firstChild.nextSibling?Ga(i.childNodes):i.firstChild,t.fb=i):t.fb=m;var a=0,s=this.mb(),c=this.mb(),h=n,u=n,i=n,r=ib(e);if(B(r,function(t){if(h||t!=s)if(u||t!=c){var e=a;if(!this.Ed){this.yb||Be(this);var n,i=this.yb,r={};for(n in i)r[i[n]]=n;this.Ed=r}t=parseInt(this.Ed[t],10),a=e|(isNaN(t)?0:t)}else u=j;else h=j,c==s&&(u=j)},this),t.t=a,h||(r.push(s),c==s&&(u=j)),u||r.push(c),(o=t.V)&&r.push.apply(r,o),D&&!H("7")){var f=Ae(r);0<f.length&&(r.push.apply(r,f),i=j)}return(!h||!u||o||i)&&(e.className=r.join(" ")),t.isEnabled()||this.Ta(e,1,j),8&t.t&&this.Ta(e,8,j),16&t.P&&this.Ta(e,16,!!(16&t.t)),64&t.P&&this.Ta(e,64,!!(64&t.t)),e},r.Ob=function(t,e){var n=!e,i=D||Ta?t.getElementsByTagName("*"):m;if(bd){if(n=n?"none":"",t.style[bd]=n,i)for(var r,o=0;r=i[o];o++)r.style[bd]=n}else if((D||Ta)&&(n=n?"on":"",t.setAttribute("unselectable",n),i))for(o=0;r=i[o];o++)r.setAttribute("unselectable",n)},r.Sa=function(t,e){this.ib(t,this.mb()+"-rtl",e)},r.sd=function(t){var e;return 32&t.P&&(e=t.Ja())?Cb(e):n},r.Ac=function(t,e){var n;
if(32&t.P&&(n=t.Ja())){if(!e&&32&t.t){try{n.blur()}catch(i){}32&t.t&&t.fd()}Cb(n)!=e&&(e?n.tabIndex=0:(n.tabIndex=-1,n.removeAttribute("tabIndex")))}},r.L=function(t,e,n){var i=t.c();if(i){var r;this.yb||Be(this),(r=this.yb[e])&&this.ib(t,r,n),this.Ta(i,e,n)}},r.Ta=function(t,e,n){ze||(ze={1:"disabled",8:"selected",16:"checked",64:"expanded"}),(e=ze[e])&&t.setAttribute("aria-"+e,n)},r.ka=function(e,n){var i=this.lb(e);if(i&&(yb(i),n))if(t(n))if("textContent"in i)i.textContent=n;else if(i.firstChild&&3==i.firstChild.nodeType){for(;i.lastChild!=i.firstChild;)i.removeChild(i.lastChild);i.firstChild.data=n}else yb(i),i.appendChild(J(i).createTextNode(n));else{var r=function(e){if(e){var n=J(i);i.appendChild(t(e)?n.createTextNode(e):e)}};ha(n)?B(n,r):!ia(n)||"nodeType"in n?r(n):B(Ga(n),r)}},r.Ja=function(t){return t.c()},r.mb=ba("goog-control");var Ce={};v(W,ve),r=W.prototype,r.fb=m,r.t=0,r.P=39,r.jc=255,r.ee=0,r.Qb=j,r.V=m,r.oc=j,r.gc=n,r.$d=m,r.Ja=function(){return this.C.Ja(this)},r.ib=function(t,e){e?t&&(this.V?Fa(this.V,t)||this.V.push(t):this.V=[t],this.C.ib(this,t,j)):t&&this.V&&(C(this.V,t),0==this.V.length&&(this.V=m),this.C.ib(this,t,n))},r.lb=function(){return this.C.lb(this.c())},r.cb=function(t){return this.C.cb(t)},r.Xc=function(t){this.B=t=this.C.gb(this,t);var e=this.$d||i;e&&t.setAttribute("role",e),this.gc||this.C.Ob(t,n),this.Qb="none"!=t.style.display},r.Ia=function(){W.G.Ia.call(this);var t=this.C;if(this.ja==m&&(this.ja=ad(this.X?this.B:this.hb.I.body)),this.ja&&t.Sa(this.c(),j),this.isEnabled()&&t.Ac(this,this.Qb),-2&this.P&&(this.oc&&Ee(this,j),32&this.P&&(t=this.Ja()))){var e=this.qc||(this.qc=new ne);oe(e,t),P(P(P(this.Bb(),e,"key",this.Od),t,"focus",this.Md),t,"blur",this.fd)}},r.Ab=function(){W.G.Ab.call(this),this.qc&&this.qc.detach(),this.Qb&&this.isEnabled()&&this.C.Ac(this,n)},r.ka=function(t){this.C.ka(this.c(),t),this.fb=t},r.Sa=function(t){W.G.Sa.call(this,t);var e=this.c();e&&this.C.Sa(e,t)},r.Ob=function(t){this.gc=t;var e=this.c();e&&this.C.Ob(e,t)},r.isEnabled=function(){return!(1&this.t)},r.setActive=function(t){Ge(this,4,t)&&this.L(4,t)},r.L=function(t,e){this.P&t&&e!=!!(this.t&t)&&(this.C.L(this,t,e),this.t=e?this.t|t:this.t&~t)},r.kd=function(t){(!t.relatedTarget||!Bb(this.c(),t.relatedTarget))&&this.dispatchEvent("enter")&&this.isEnabled()&&X(this,2)&&Fe(this,j)},r.jd=function(t){t.relatedTarget&&Bb(this.c(),t.relatedTarget)||!this.dispatchEvent("leave")||(X(this,4)&&this.setActive(n),X(this,2)&&Fe(this,n))},r.Cb=ea,r.hd=function(t){this.isEnabled()&&(X(this,2)&&Fe(this,j),uc(t)&&(X(this,4)&&this.setActive(j),this.C.sd(this)&&this.Ja().focus())),!this.gc&&uc(t)&&t.preventDefault()},r.ld=function(t){this.isEnabled()&&(X(this,2)&&Fe(this,j),4&this.t&&Ie(this,t)&&X(this,4)&&this.setActive(n))},r.gd=function(t){this.isEnabled()&&Ie(this,t)},r.Md=function(){X(this,32)&&Ge(this,32,j)&&this.L(32,j)},r.fd=function(){X(this,4)&&this.setActive(n),X(this,32)&&Ge(this,32,n)&&this.L(32,n)},r.Od=function(t){return this.Qb&&this.isEnabled()&&13==t.keyCode&&Ie(this,t)?(t.preventDefault(),t.stopPropagation(),j):n},u(W)||g(Error("Invalid component class "+W)),u(ye)||g(Error("Invalid renderer class "+ye));var Je=ka(W);Ce[Je]=ye,u(Ke)||g(Error("Invalid decorator function "+Ke)),v(Le,ye),fa(Le),r=Le.prototype,r.gb=function(t,e){return De(t),t.jc&=-256,t.X&&32&t.t&&g(Error("Component already rendered")),32&t.t&&t.L(32,n),t.P&=-33,Le.G.gb.call(this,t,e),t.ka(e.value),e},r.cb=function(t){return"TEXTAREA"==t.tagName},r.Sa=ea,r.sd=function(t){return t.isEnabled()},r.Ac=ea,r.L=function(t,e,n){Le.G.L.call(this,t,e,n),(t=t.c())&&1==e&&(t.disabled=n)},r.Ta=ea,r.ka=function(t,e){t&&(t.value=e)},r.mb=ba("goog-textarea"),v(Me,W);var Ne=F||G;r=Me.prototype,r.Oa=n,r.fa=0,r.Ud=0,r.wd=0,r.nd=n,r.Ib=n,r.zc=n,r.yc=n,r.ka=function(t){Me.G.ka.call(this,t),this.c()&&this.Ka()},r.Ia=function(){Me.G.Ia.call(this);var t=this.c();R(t,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"}),this.ob=dd(t,"padding"),this.Tc=gd(t),P(P(P(P(this.Bb(),t,"scroll",this.Ka),t,"focus",this.Ka),t,"keyup",this.Ka),t,"mouseup",this.Wd),this.c()&&this.Ka()},r.Ka=function(){if(!this.Oa){var t=n;this.Oa=j;var e=this.c(),i=this.fa;if(e.scrollHeight){var r=n,o=n,a=Re(this),s=e.offsetHeight,c=Pe(this),h=Qe(this);c&&c>a?(Se(this,c),r=j):h&&a>h?(Se(this,h),e.style.overflowY="",o=j):s!=a?Se(this,a):this.fa||(this.fa=a),!r&&!o&&Ne&&(t=j)}else Te(this);this.Oa=n,t&&(t=this.c(),this.Oa||(this.Oa=j,e=n,t.value||(t.value=" ",e=j),(o=t.scrollHeight)?(a=Re(this),r=Pe(this),s=Qe(this),!(r&&r>=a)&&!(s&&a>=s)&&(s=this.ob,t.style.paddingBottom=s.bottom+1+"px",Re(this)==a&&(t.style.paddingBottom=s.bottom+o+"px",t.scrollTop=0,o=Re(this)-o,o>=r?Se(this,o):Se(this,r)),t.style.paddingBottom=s.bottom+"px")):Te(this),e&&(t.value=""),this.Oa=n)),i!=this.fa&&this.dispatchEvent("resize")}},r.Wd=function(){var t=this.c(),e=t.offsetHeight;t.filters&&t.filters.length&&(t=t.filters.item("DXImageTransform.Microsoft.DropShadow"))&&(e-=t.offX),e!=this.fa&&(this.fa=this.wd=e)},D&&H(8);var Xe={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","	":"&#9;","\n":"&#10;","":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","":"&#133;"," ":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"},Ve=/[\x00\x22\x26\x27\x3c\x3e]/g;r=$e.prototype,r.fc=function(e){var n=wb("div","annotorious-editor-field");t(e)?n.innerHTML=e:u(e)?this.Va.push({A:n,kc:e}):Ab(e)&&n.appendChild(e),e=this.Hd,e.parentNode&&e.parentNode.insertBefore(n,e)},r.open=function(e){(this.sb=this.Pc=e)&&this.Ea.ka(String(e.text)),U(this.element,j),this.Ea.c().focus(),B(this.Va,function(n){var i=n.kc(e);t(i)?n.A.innerHTML=i:Ab(i)&&(yb(n.A),n.A.appendChild(i))})},r.close=function(){U(this.element,n),this.Ea.ka("")},r.setPosition=function(t){Pc(this.element,t.x,t.y)},r.cd=function(){var t;t=this.Ea.c().value;var e=new Rd;return(new Sd).parse(new ie(e,function(t){return t},i),t),t=e.toString(),this.sb?this.sb.text=t:this.sb=new Gd(this.Id.src,t,this.e.pa().getShape()),this.sb},$e.prototype.addField=$e.prototype.fc,$e.prototype.getAnnotation=$e.prototype.cd,af.prototype.Tb=function(){var t=this;this.Oc=N(this.Kc,"mouseover",function(){t.show(),window.clearTimeout(t.Zb)}),this.Nc=N(this.Kc,"mouseout",function(){cf(t)}),this.e.l("onMouseOverItem",this.dc),this.e.l("onMouseOutOfItem",this.cc)},af.prototype.tb=function(){O(this.Oc),O(this.Nc),this.e.Ra("onMouseOverItem",this.dc),this.e.Ra("onMouseOutOfItem",this.cc)},af.prototype.show=function(){window.clearTimeout(this.Zb),T(this.Mc,.8);var t=this;this.Zb=window.setTimeout(function(){cf(t)},3e3)},af.prototype.destroy=function(){this.tb(),delete this.Oc,delete this.Nc,delete this.dc,delete this.cc,zb(this.element)},r=df.prototype,r.fc=function(e){var n=wb("div","annotorious-popup-field");t(e)?n.innerHTML=e:u(e)?this.Va.push({A:n,kc:e}):Ab(e)&&n.appendChild(e),this.element.appendChild(n)},r.startHideTimer=function(){if(this.Xb=n,!this.ab){var t=this;this.ab=window.setTimeout(function(){t.e.fireEvent("beforePopupHide",t),t.Xb||(T(t.element,0),R(t.element,"pointer-events","none"),T(t.N,.9),delete t.ab)},150)}},r.clearHideTimer=function(){this.Xb=j,this.ab&&(window.clearTimeout(this.ab),delete this.ab)},r.show=function(t,e){if(this.clearHideTimer(),e&&this.setPosition(e),t&&this.setAnnotation(t),this.Vb&&window.clearTimeout(this.Vb),T(this.N,.9),ef){var n=this;this.Vb=window.setTimeout(function(){T(n.N,0)},1e3)}T(this.element,.9),R(this.element,"pointer-events","auto")},r.setPosition=function(t){Pc(this.element,new I(t.x,t.y))},r.setAnnotation=function(e){this.f=e,this.Jd.innerHTML=e.text?e.text.replace(/\n/g,"<br/>"):'<span class="annotorious-popup-empty">No comment</span>',"editable"in e&&e.editable==n?U(this.N,n):U(this.N,j),B(this.Va,function(n){var i=n.kc(e);t(i)?n.A.innerHTML=i:Ab(i)&&(yb(n.A),n.A.appendChild(i))})},df.prototype.addField=df.prototype.fc,r=ff.prototype,r.z=function(t,e){e&&(e==this.f&&delete this.f,C(this.wa,e),delete this.T[Fd(e.shapes[0])]),this.wa.push(t);var n=t.shapes[0];if("pixel"!=n.units)var i=this,n=Ed(n,function(t){return i.e.jb(t)});this.T[Fd(t.shapes[0])]=n,jf(this)},r.w=function(t){t==this.f&&delete this.f,C(this.wa,t),delete this.T[Fd(t.shapes[0])],jf(this)},r.J=function(){return Ga(this.wa)},r.r=function(t){(this.f=t)?this.ub=j:this.e.popup.startHideTimer(),jf(this),this.la=j},r.kb=function(t,e){var i=[],r=this;return B(this.wa,function(o){var a;if(a=r.T[Fd(o.shapes[0])],"rect"==a.type)a=t<a.geometry.x||e<a.geometry.y||t>a.geometry.x+a.geometry.width||e>a.geometry.y+a.geometry.height?n:j;else if("polygon"==a.type){a=a.geometry.points;for(var s=n,c=a.length-1,h=0;h<a.length;h++)a[h].y>e!=a[c].y>e&&t<(a[c].x-a[h].x)*(e-a[h].y)/(a[c].y-a[h].y)+a[h].x&&(s=!s),c=h;a=s}else a=n;a&&i.push(o)}),z.sort.call(i,function(t,e){var n=r.T[Fd(t.shapes[0])],i=r.T[Fd(e.shapes[0])];return Bd(n)-Bd(i)}||Ja),i};var lf="ontouchstart"in window,ef=!lf,mf=lf?"touchstart":"mousedown",nf=lf?"touchenter":"mouseover",gf=lf?"touchmove":"mousemove",of=lf?"touchend":"mouseup",pf=lf?"touchleave":"mouseout";r=rf.prototype,r.init=function(t,e){this.Rb="#000000",this.Sb="#ffffff",this.Fc=n,this.Hc="#fff000",this.Gc=n,this.S=e,this.e=t,this.F=e.getContext("2d"),this.F.lineWidth=1,this.Yb=n},r.Tb=function(){var t=this,e=this.S;this.ac=N(this.S,gf,function(n){if(n=qf(n,e),t.Yb){t.H={x:n.x,y:n.y},t.F.clearRect(0,0,e.width,e.height);var n=t.H.x-t.j.x,i=t.H.y-t.j.y;t.F.strokeStyle=t.Rb,t.F.strokeRect(t.j.x+.5,t.j.y+.5,n,i),t.F.strokeStyle=t.Sb,n>0&&i>0?t.F.strokeRect(t.j.x+1.5,t.j.y+1.5,n-2,i-2):n>0&&0>i?t.F.strokeRect(t.j.x+1.5,t.j.y-.5,n-2,i+2):0>n&&0>i?t.F.strokeRect(t.j.x-.5,t.j.y-.5,n+2,i+2):t.F.strokeRect(t.j.x-.5,t.j.y+1.5,n+2,i-2)}}),this.bc=N(e,of,function(i){var r=qf(i,e),o=t.getShape(),i=i.n?i.n:i;t.Yb=n,o?(t.tb(),t.e.fireEvent("onSelectionCompleted",{mouseEvent:i,shape:o,viewportBounds:t.getViewportBounds()})):(t.e.fireEvent("onSelectionCanceled"),i=t.e.kb(r.x,r.y),0<i.length&&t.e.r(i[0]))})},r.tb=function(){this.ac&&(O(this.ac),delete this.ac),this.bc&&(O(this.bc),delete this.bc)},r.getName=ba("rect_drag"),r.getSupportedShapeType=ba("rect"),r.Y=function(t){t.outline&&(this.Rb=t.outline),t.stroke&&(this.Sb=t.stroke),t.fill&&(this.Fc=t.fill),t.hi_stroke&&(this.Hc=t.hi_stroke),t.hi_fill&&(this.Gc=t.hi_fill)},r.startSelection=function(t,e){var n={x:t,y:e};this.Yb=j,this.Tb(n),this.j=new vd(t,e),this.e.fireEvent("onSelectionStarted",{offsetX:t,offsetY:e}),R(document.body,"-webkit-user-select","none")},r.stopSelection=function(){this.tb(),this.F.clearRect(0,0,this.S.width,this.S.height),R(document.body,"-webkit-user-select","auto"),delete this.H},r.getShape=function(){if(this.H&&3<Math.abs(this.H.x-this.j.x)&&3<Math.abs(this.H.y-this.j.y)){var t=this.getViewportBounds(),e=this.e.Pb({x:t.left,y:t.top}),t=this.e.Pb({x:t.right-1,y:t.bottom-1});return new Ad("rect",new zd(e.x,e.y,t.x-e.x,t.y-e.y))}},r.getViewportBounds=function(){var t,e;this.H.x>this.j.x?(t=this.H.x,e=this.j.x):(t=this.j.x,e=this.H.x);var n,i;return this.H.y>this.j.y?(n=this.j.y,i=this.H.y):(n=this.H.y,i=this.j.y),{top:n,right:t,bottom:i,left:e}},r.drawShape=function(t,e,n){var i,r,o;"rect"==e.type&&("style"in e?n?(r=e.style.hi_fill,i=e.style.hi_stroke,o=e.style.hi_outline):(r=e.style.fill,i=e.style.stroke,o=e.style.outline):(n?(r=this.Gc,i=this.Hc):(r=this.Fc,i=this.Sb),o=this.Rb),t.lineWidth=n?1.2:1,e=e.geometry,o&&(t.strokeStyle=o,t.strokeRect(e.x+.5,e.y+.5,e.width+1,e.height+1)),i&&(t.strokeStyle=i,t.strokeRect(e.x+1.5,e.y+1.5,e.width-1,e.height-1)),r&&(t.fillStyle=r,t.fillRect(e.x+1.5,e.y+1.5,e.width-1,e.height-1)))},r=tf.prototype,r.da=aa(),r.z=function(t,e){this.k.z(t,e)},r.l=function(t,e){this.v.l(t,e)},r.Sc=function(t){t.init(this,this.d),this.Da.push(t)},r.destroy=function(){var t=this.aa;t.style.margin=this.Qc.margin,t.style.padding=this.Qc.padding;var e=this.element,n=e.parentNode;n&&n.replaceChild(t,e)},r.$c=function(t){this.k.w(t);var e=Ea(this.Da,function(e){return e.getSupportedShapeType()==t.shapes[0].type});if(e){U(this.d,j),this.k.r(n);var i=this.d.getContext("2d"),r=t.shapes[0],o=this,r="pixel"==r.units?r:Ed(r,function(t){return o.jb(t)});e.drawShape(i,r)}e=Cd(t.shapes[0]).geometry,e="pixel"==t.shapes[0].units?new vd(e.x,e.y+e.height):this.jb(new vd(e.x,e.y+e.height)),this.editor.setPosition(new vd(e.x+this.aa.offsetLeft,e.y+4+this.aa.offsetTop)),this.editor.open(t)},r.fireEvent=function(t,e){return this.v.fireEvent(t,e)},r.jb=function(t){var e=Yc(this.aa);return{x:t.x*e.width,y:t.y*e.height}},r.pa=p("za"),r.J=function(){return this.k.J()},r.kb=function(t,e){return Ga(this.k.kb(t,e))},r.qa=p("Da"),r.getItem=function(){return{src:uf(this.aa)}},r.W=function(){U(this.ca,n)},r.O=function(){this.ec=n,this.Xa&&(this.Xa.destroy(),delete this.Xa)},r.r=function(t){this.k.r(t)},r.w=function(t){this.k.w(t)},r.Ra=function(t,e){this.v.Ra(t,e)},r.be=function(t){(this.za=Ea(this.Da,function(e){return e.getName()==t}))||console.log('WARNING: selector "'+t+'" not available')},r.Y=function(t){B(this.Da,function(e){e.Y(t)}),jf(this.k)},r.va=function(){U(this.ca,j)},r.Z=function(){this.ec=j,this.Xa||(this.Xa=new af(this,this.element))},r.stopSelection=function(t){ef&&U(this.d,n),this.za.stopSelection(),t&&this.k.z(t)},r.Pb=function(t){var e=Yc(this.aa);return{x:t.x/e.width,y:t.y/e.height}},tf.prototype.addSelector=tf.prototype.Sc,tf.prototype.fireEvent=tf.prototype.fireEvent,tf.prototype.setCurrentSelector=tf.prototype.be,tf.prototype.toItemCoordinates=tf.prototype.Pb,v(vf,Hd),vf.prototype.lc=function(t){return uf(t)},vf.prototype.yd=function(t){return new tf(t)},vf.prototype.Cc=function(t){return Ab(t)?"IMG"==t.tagName:n},r=xf.prototype,r.destroy=function(){this.qb.destroy()},r.z=function(t){var e=t.shapes[0].geometry,e=new OpenLayers.Marker.Box(new OpenLayers.Bounds(e.x,e.y,e.x+e.width,e.y+e.height));jb(e.div,"annotorious-ol-boxmarker-outer"),R(e.div,"border",m);var n=wb("div","annotorious-ol-boxmarker-inner");Xc(n,"100%","100%"),e.div.appendChild(n);var i={ma:t,Hb:e,qd:n},r=this;N(n,"mouseover",function(){r.Aa||zf(r,i),r.$b=i}),N(n,"mouseout",function(){delete r.$b,r.Q.startHideTimer()}),this.Za.push(i),z.sort.call(this.Za,function(t,e){return Bd(e.ma.shapes[0])-Bd(t.ma.shapes[0])}||Ja);var o=1e4;B(this.Za,function(t){R(t.Hb.div,"z-index",o),o++}),this.qb.addMarker(e)},r.w=function(t){var e=Ea(this.Za,function(e){return e.ma==t});e&&(C(this.Za,e),this.qb.removeMarker(e.Hb))},r.J=aa(),r.r=function(t){t||this.Q.startHideTimer()},r=Af.prototype,r.Z=aa(),r.O=aa(),r.da=function(t){R(this.d,"pointer-events","auto");var e=this;U(this.d,j),T(this.Ca,.8),window.setTimeout(function(){T(e.Ca,0)},2e3),t&&(this.vb=t)},r.destroy=function(){this.k.destroy(),zb(this.Ca),zb(this.d)},r.$c=function(t){this.k.w(t);var e=this.bb,n=this;if(e){U(this.d,j),this.k.r(i);var r=this.d.getContext("2d"),o=Ed(t.shapes[0],function(t){return n.jb(t)});e.drawShape(r,o),e=Cd(o).geometry,this.editor.setPosition(new vd(e.x+this.element.offsetLeft,e.y+e.height+4+this.element.offsetTop)),this.editor.open(t)}},r.z=function(t){this.k.z(t)},r.l=function(t,e){this.v.l(t,e)},r.Sc=aa(),r.fireEvent=function(t,e){return this.v.fireEvent(t,e)},r.jb=function(t){return t=this.ba.getViewPortPxFromLonLat(new OpenLayers.LonLat(t.x,t.y)),{x:t.x,y:t.y}},r.pa=p("bb"),r.J=aa(),r.qa=aa(),r.getItem=function(){return{src:"map://openlayers/something"}},r.r=function(t){this.k.r(t)},r.w=function(t){this.k.w(t)},r.Ra=function(t,e){this.v.Ra(t,e)},r.pb=aa(),r.stopSelection=function(t){U(this.d,n),this.vb&&(this.vb(),delete this.vb),this.bb.stopSelection(),t&&this.k.z(t)},r.Pb=function(t){return t=this.ba.getLonLatFromPixel(new OpenLayers.Pixel(t.x,t.y)),{x:t.lon,y:t.lat}},v(Bf,Hd),Bf.prototype.lc=ba("map://openlayers/something"),Bf.prototype.yd=function(t){return new Af(t)},Bf.prototype.Cc=function(t){return t instanceof OpenLayers.Map},r=Y.prototype,r.da=function(e,n){var r=i,o=i;if(t(e)?(r=e,o=n):u(e)&&(o=e),r){var a=Z(this,r);a&&a.da(r,o)}else B(this.o,function(t){t.da(o)})},r.z=function(t,e){var n;if(n=t.src,!(0<n.indexOf("://"))){var i=document.createElement("a");i.href=n,n=i.protocol+"//"+i.host+i.pathname}t.src=n,(n=Z(this,t.src))&&n.z(t,e)},r.l=function(t,e){B(this.o,function(n){n.l(t,e)})},r.wb=function(t,e){try{var n=new window.annotorious.plugin[t](e);"complete"==document.readyState?(n.initPlugin&&n.initPlugin(this),B(this.o,function(t){t.wb(n)})):this.$a.push(n)}catch(i){console.log("Could not load plugin: "+t)}},r.destroy=function(t){if(t){var e=Z(this,t);e&&e.destroy(t)}else B(this.o,function(t){t.destroy()})},r.pa=function(t){var e=Z(this,t);return e?e.pa(t):void 0},r.J=function(t){if(t){var e=Z(this,t);return e?e.J(t):[]}var n=[];return B(this.o,function(t){Ha(n,t.J())}),n},r.qa=function(t){var e=Z(this,t);return e?e.qa(t):[]},r.W=function(t){if(t){var e=Z(this,t);e&&e.W(t)}else B(this.o,function(t){t.W()})},r.O=function(t){if(t){var e=Z(this,t);e&&e.O(t)}else B(this.o,function(t){t.O()})},r.r=function(t){if(t){var e=Z(this,t.src);e&&e.r(t)}else B(this.o,function(t){t.r()})},r.sc=function(t){Cf(this);var e=Ea(this.o,function(e){return e.Cc(t)});e?e.sc(t):g("Error: Annotorious does not support this media type in the current version or build configuration.")},r.Mb=function(t){var e=this;B(this.J(t),function(t){e.w(t)})},r.w=function(t){var e=Z(this,t.src);e&&e.w(t)},r.reset=function(){B(this.o,function(t){t.destroy(),t.init()})},r.pb=function(t,e){var n=Z(this,t);n&&n.pb(t,e)},r.Y=function(t){B(this.o,function(e){e.Y(t)})},r.ce=function(t){t?this.Z(i):this.O(i)},r.va=function(t){if(t){var e=Z(this,t);e&&e.va(t)}else B(this.o,function(t){t.va()})},r.Z=function(t){if(t){var e=Z(this,t);e&&e.Z(t)}else B(this.o,function(t){t.Z()})},window.anno=new Y,Y.prototype.activateSelector=Y.prototype.da,Y.prototype.addAnnotation=Y.prototype.z,Y.prototype.addHandler=Y.prototype.l,Y.prototype.addPlugin=Y.prototype.wb,Y.prototype.destroy=Y.prototype.destroy,Y.prototype.getActiveSelector=Y.prototype.pa,Y.prototype.getAnnotations=Y.prototype.J,Y.prototype.getAvailableSelectors=Y.prototype.qa,Y.prototype.hideAnnotations=Y.prototype.W,Y.prototype.hideSelectionWidget=Y.prototype.O,Y.prototype.highlightAnnotation=Y.prototype.r,Y.prototype.makeAnnotatable=Y.prototype.sc,Y.prototype.removeAll=Y.prototype.Mb,Y.prototype.removeAnnotation=Y.prototype.w,Y.prototype.reset=Y.prototype.reset,Y.prototype.setActiveSelector=Y.prototype.pb,Y.prototype.setProperties=Y.prototype.Y,Y.prototype.showAnnotations=Y.prototype.va,Y.prototype.showSelectionWidget=Y.prototype.Z,window.annotorious||(window.annotorious={}),window.annotorious.plugin||(window.annotorious.plugin={}),window.annotorious.geometry||(window.annotorious.geometry={},window.annotorious.geometry.expand=Dd,window.annotorious.geometry.getBoundingRect=Cd),Y.prototype.setSelectionEnabled=Y.prototype.ce,annotorious.plugin.Parse=function(t){this._APP_ID=t.app_id,this._JS_KEY=t.js_key,this._DEBUG=t.debug||!1,this._context=t.context||window.location.href.split("#")[0].split("index.html")[0]+"#",this._collection=null,this._loadIndicators=[]},annotorious.plugin.Parse.prototype.initPlugin=function(t){var e=this;Parse.$=jQuery,Parse.initialize(this._APP_ID,this._JS_KEY);var n=Parse.Object.extend("Annotation"),i=Parse.Collection.extend({model:n,query:new Parse.Query(n).equalTo("context",e._context)});this._collection=new i,t.addHandler("onAnnotationCreated",function(t){e._create(t)}),t.addHandler("onAnnotationUpdated",function(t){e._update(t)}),t.addHandler("onAnnotationRemoved",function(t){e._delete(t)}),e._loadAnnotations(t)},annotorious.plugin.Parse.prototype.onInitAnnotator=function(t){var e=this._newLoadIndicator();t.element.appendChild(e),this._loadIndicators.push(e)},annotorious.plugin.Parse.prototype._newLoadIndicator=function(){var t=document.createElement("div");t.className="annotorious-parse-plugin-load-outer";var e=document.createElement("div");return e.className="annotorious-parse-plugin-load-inner",t.appendChild(e),t},annotorious.plugin.Parse.prototype._loadAnnotations=function(t){var e=this,n=function(){jQuery.each(e._loadIndicators,function(t,e){jQuery(e).remove()})};this._collection.fetch({success:function(i){i.each(function(n){e._DEBUG&&console.log("load success",n),!n.get("shape")&&n.get("shapes")[0].geometry&&t.addAnnotation(n.toJSON())}),n()},error:function(t,i){e._DEBUG&&console.log("load error",t,i),n()}})},annotorious.plugin.Parse.prototype._create=function(t){var e=this,n=Parse.Object.extend("Annotation"),i=new n;i.save(t,{success:function(n){e._DEBUG&&console.log("create success",n),t.objectId=n.id,e._collection.add(i)},error:function(t,n){e._DEBUG&&console.log("create error",t,n)}})},annotorious.plugin.Parse.prototype._update=function(t){var e=this,n=this._collection.get(t.objectId);delete t.objectId,n.save(t,{success:function(n){e._DEBUG&&console.log("update success",n),t.objectId=n.id},error:function(t,n){e._DEBUG&&console.log("update error",t,n)}})},annotorious.plugin.Parse.prototype._delete=function(t){self=this;var e=this._collection.get(t.objectId);e.destroy({success:function(t){self._DEBUG&&console.log("delete success",t)},error:function(t,e){self._DEBUG&&console.log("delete error",t,e)}})};var map,mapBounds=new OpenLayers.Bounds(0,-2803,2037,0),mapMinZoom=0,mapMaxZoom=4;OpenLayers.IMAGE_RELOAD_ATTEMPTS=3,anno.addPlugin("Parse",{app_id:"DON4mTu8KCYPdINYljtroXqtGcQAF6oTlmIwrjHZ",js_key:"QGZFPe1NZlUC90fWVAcVScIx2tVWXIyMd8yPkBGR"}),onresize=function(){resize()};